Releases HISTORY
---------------

RAINBOW PORTAL
Main portal - http://www.rainbowportal.net 
Sourceforge CVS - http://sourceforge.net/projects/rainbowportal/ 
Support Forums - http://forums.rainbowportal.net 
Bug Tracker: http://support.rainbowportal.net 

NOTE: All data are in Italian format day/month/year!

New Setup:
- Create an empty db called Rainbow.

Updating database:
- Run web, a page will prompt you for update
- Follow carefully instructions

- IMPORTANT NOTE on web.config ConnectionString value:
  Integrated security changes object owner to ASPNET account.
  Anyway it is not recommended to switch access login
*****************************************************

1.5.0.1791y - 28/02/2005
by Manu
- FIX: Minor fixes in clean install
       Moved Content Manager as last module
       Included LanguageSwitcher in list
       Other minor fixes
- FIX: Better null handling on page key phrase
- FIX: Minor cleanup on project
by Jonhantan
- FIX: Fixed base path on FCK2
by Ozan Sirin (ozan@rainbow.web.tr)
- FIX: Changed "EMAIL" to "Email" in Newsletter_install.sql for accent and case sensitive DBMSs 

1.5.0.1791x - 27/02/2005
by Manu
- FIX: Improved the install scripts and fixed some bugs
- ENH: Brand new default portal content
- ENH: Language switcher default is now DropDown
- FIX: Lanugage list now matches current cultures
- FIX: Other minor fixes
by Frano
- Updated hr resources

1.5.0.1791x - 12/02/2005
by John Mandia(www.whitelightsolutions.com)
- FIX: RBM-215: Added try catch block in User Profile to catch any issues.
       PROFILE_INFO_ERROR new textkey that needs to be localised.

1.5.0.1791w - 12/02/2005
by John Mandia(www.whitelightsolutions.com)
- FIX: RBP-639: Duplicate registration now provides a friendlier message. Needs to be localised in Esperantus resx files
       key = REGISTRATION_FAILED_EXISTING_EMAIL_ADDRESS. Message shown by default is: "Registration has failed. This email
       address has already been registered. Please use a different email address or use the 'Send Password' button on the login page."
       Also moved error message to the top of the page so that people can see the message more easily on postback.

1.5.0.1791v - 12/02/2005
by John Mandia(www.whitelightsolutions.com)
- FIX: RBM-216: AddModule doesn't show help icon if a module is selected on the drop down and has a help file associated with it.
- ENH: Added Announcements description help file (Contributed by Jason Kergosien) 

1.5.0.1791u - 10/02/2005
by Manu
- FIX: fixed sitemap module guid
- FIX: updated browscap

1.5.0.1791t - 8/02/2005
by José Viladiu
- FIX: Corrections in menunavigation and solpartnavigation for change Default.aspx to HttpUrlBuilder.DefaultPage
- ENH: Add cache for autoshopdetect in tabs
- ENH: Rewrite some methods in ModuleDB for best error control and add log error messages.

1.5.0.1791s - 7/02/2005
by Jes1111
- FIX: small error in XslHelper BuildUrl method corrected
- ENH: Page.cs now wraps page in a <div> with id and class set to allow browser-specific CSS rules to be used.
       Common values for ID are: 
		Explorer:	IE
		Firefox:	Gecko
		Netscape:	Gecko
		Opera:		Opera
       Usage is simple. To apply a particular CSS ruleset to IE browsers only, prefix the selector like this:
		div#IE p.normal{...}
		div#Gecko p.normal{...}
		etc.

1.5.0.1791r - 7/02/2005
by José Viladiu
- FIX: RBM-213 Flash Module is looking for sample flash file in old Rainbow directory. Now get the correct portal path.
- FIX: Change default extension for log file in web.config to prevent unauthorized access from internet.

1.5.0.1791q - 5/02/2005
by John Mandia(www.whitelightsolutions.com)
- FIX: RBP-76 - Applied fix to Rainbow.Settings.

1.5.0.1791p - 5/02/2005
by John Mandia(www.whitelightsolutions.com)
- FIX: All module solution files (solution file within module folder) were broken.

1.5.0.1791o - 5/02/2005
by John Mandia(www.whitelightsolutions.com)
- FIX: RBM-222 Altered setup script to not delete existing table. And also added cascading delete so that when you delete a module it clears up the related data.
- FIX: Solution in blog module folder no longer worked.

1.5.0.1791n - 4/02/2005
by José Viladiu
- ENH : Added Options in MapQuest module for show a zoom selector.
- ENH : New translations added for Spanish resource file
- FIX : Center the results in PropertyPage.aspx
- FIX : Changed mid by mID in a lot of places

1.5.0.1791m - 3/02/2005
by José Viladiu
- ENH/FIX : Language list selection now from a multiselectlist with only the languages with resources installed.
      This enhancement fix the bug RBP-642 because now is not possible to add duplicate languages in list.
- ENH : Update SolpartWebControls.dll

1.5.0.1791l - 2/02/2005
by Mike Stone for Grischa Brockhaus
- FIX : Tabs Cache not cleared correclty Jira Issue RBM-220 

1.5.0.1791k - 31/01/2005
by José Viladiu
- FIX : Corrections in url build for selector web control
- FIX : Corrections in EnhancedHtml for no show the selected page when lang is changed.

1.5.0.1791j - 29/01/2005
by Jakob Hansen
- FIX : Updated all OneFileModule examples so they will run with the Rainbow.Modules.OneFileModule.dll assembly
- DOC : Quote Module: Described how to set up a folder for quote files using key QuoteFileFolder in web.config.
        Please see DesktopModules\Quote\readme.txt for details

1.5.0.1791i - 28/01/2005
by José Viladiu
- ENH : Not show module title in theme when title is empty (logon.aspx, register.aspx and usersmanage.aspx)
        This change make possible to show the correct ThemePart ControlNoTitle instead of ControlTitle.

1.5.0.1791h - 28/01/2005
by Mike Stone For: Grischa
- ENH : New translations added to the German resource file

1.5.0.1791g - 27/01/2005
by Rob Siera
- FIX : Email with NewRegistration info was send even if registration was not successfull
- FIX : Edit portal settings failed when not using /Portals directory

1.5.0.1791f - 27/01/2005
by José Viladiu
- FIX : Added F11 compile option in module projects for no warn
- FIX : Remove obsolete tag in LogHelper methods for modules can access to logger in old style.
        Removed unused obsolete methods. Now all methods can access to LogProvider implementation.

1.5.0.1791e - 26/01/2005
by Jes1111
- FIX: Menus in Default, Default Alternate and DueMetri themes were not rendering 
	properly in non-IE browsers. "@import" statements were at the end of the
	CSS files - the CSS standard specifically states that @import statements must
	occur before any style rules. They have now been moved to the top.
- FIX: Small correction in Zen Starter theme CSS to correct ZenNavigation
	drop-down menu behaviour in non-IE browsers.

1.5.0.1791d - 25/01/2005
by Manu
- ENH: Upgraded Amazon to version 2.0, with cache and promocode.
- Updates some resources
- First release of nant tool for modules (need some fixes)

1.5.0.1791d - 25/01/2005
by Jes1111
- FIX : Certain module types were not minimizing properly - fixed in PortalModuleControl.cs 

1.5.0.1791c - 25/01/2005
by José Viladiu
- ENH : Show the type of module in moduleSettings 

1.5.0.1791b - 24/01/2005
by John Mandia (www.whitelightsolutions.com)
- NEW: 2 controls added for advanced users and testers (They are not used by default)
  SmartScroller (A control you can drop onto DesktopDefault.aspx so that you retain 
  scroll position after postback seems to work on firefox and ie - I've lost the url for the 
  source of this control if you find it please add here.)
  Custom Form (From www.metabuilders.com) this lets you set action="" which 
  prevents ?tabid=x&etc on postback on friendly urls (Note that this needs testing. 
  If you have a login on homepage it could throw a viewstate error. This is for evaluation 
  and advanced users only).

e.g. 

<%@ Page language="C#" SmartNavigation="False" CodeBehind="DesktopDefault.aspx.cs" AutoEventWireup="false" Inherits="Rainbow.DesktopDefault"%>
<%@ Register TagPrefix="rbc" Namespace="Rainbow.UI.WebControls" Assembly="Rainbow" %>
<HTML>
	<head runat="server"></head>
	<body runat="server">
	<rbc:CustomForm runat="server" action="">
		
			<asp:PlaceHolder id="LayoutPlaceHolder" runat="server"></asp:PlaceHolder>
		<rbc:SmartScroller runat="server"/>
	</rbc:customform>	
	</body>
</HTML>

- ENH: UrlProviders now support cache time and invalidation (UrlBuilder exposes a 
       Clear method to clean out stored Url Elements e.g. HttpUrlBuilder.Clear(tabId). 
       This is called from TabSettings when an update occurs.
       If you don't want to set a time expiration on Url Elements set cache time to 0 (submitted for testing).
- ENH: Tabsettings: Url Page Name and Url Keyword moved to Navigation Settings 
       instead of Meta Settings (As they are url settings)
- ENH: On 3 Panes Layouts/Themes if a module does not load up and you are part of 
       the admins group you get the error message so you have some idea of what went wrong.

1.5.0.1791a - 24/01/2005
by José Viladiu
- FIX : RBP-625 Cached module Guid 
- FIX : Remove visual studio user option files from cvs
- FIX : Remove Module librarys from cvs
- FIX : Add removed files to .cvsignore

1.5.0.1791 - 24/01/2005
by John Mandia (www.whitelightsolutions.com)
- NEW & MOD : Seperated all modules into private assemblies from the core 
        (Apart from workflow and LanguageSwitcher as these are called from the core)
        Created Solution file for each module and also one in the root of DesktopModules 
        which lets you build all modules in one go.
        Updated history.xml so that it will reinstall all modules and pick up the new dlls. 
        All modules now have dlls in the following format Rainbow.Modules.ModuleName.dll 
        Namespaces are still kept the same to reduce the change of any breaking changes. 
        All projects deploy to bin folder and have been setup as debug type of url pointing 
        at http://localhost/rainbow/default.aspx (This lets you debug individual modules).
        Nant build scripts still need to be changed to reflect the change.
        This dramtically increases the number of dlls in the bin folder (There are 67 new dlls) 
        and highlights the fact that there are a lot of modules bundled in the core. 
        This gives people the choice of only having the modules they are interested in 
        (they can uninstall modules and remove non essential modules from the bin folder)
        It also means we can update modules without having to re-release the core 
        (So minor updates can be done on a per module basis and if you do not use that 
        module you do not need to do an update).

1.5.0.1790a - 23/01/2005
by Mike Stone
- NEW : Added a new DataType CheckBoxListDataType which of course allows us to pass in
        datasource and Value and Text. You can then select more then one item. 
	for more information see Jira Issue RBP-632 

1.5.0.1790 - 23/01/2005
by Jakob Hansen
- NEW : Added new module "Quote". From the readme.txt:
        Display a random text string, e.g.: "Not all who wander are lost -- Tolkien".
        The text is read from a file or entered by the user. It is possible to select other 
        files than the provided demo file. You can control the size of the text and if the
        the text should be in italic and/or bold. A set of userdefined start and end html tags 
        are provided for customizing.
        IMPORTANT NOTES: 
	1) Add manually. To avoid causing problems for RC4 you have to add to module manually.
	2) This new module does not use the database for anything apart from the Setting system

1.5.0.1789h - 22/01/2005
by Mike Stone
- FIX : A problem found FAQs and Tasks modules where after a clean install if
        if you tried to intall the modules again there was an error. YOU DO NOT
        need to reinstall these modules after a clean install, but if you do 
        you will not get an error anymore. Jira issue RBP-630.

1.5.0.1789g - 21/01/2005
by Jes
- ENH : Zen library updated. Add xslt files in app_support for bind options in zen themes
- FIX : A problem found with global replaced "" with string.Empty

1.5.0.1789f - 20/01/2005
by Jes
- FIX : Updated styles in Zen starter theme
by José Viladiu
- FIX : Revision in moduleSettings.cs source
- FIX : Remove module cache in Shortcut module for no affect to original module showed
- ENH : Remove not necessary FXCop files 

1.5.0.1789e - 19/01/2005
by Mike Stone 
  - EHN: Tasks module changed the Description field to ntext which removes 
    the 3000 char limit. Also removed issue where the AddTask was 2000 char
    and UpdateTask was 3000 char.
  - To Apply these changes you must re-install the Tasks module. DO NOT
    uninstall it first or you will loose all our tasks entries. Just go to
    the add module and put in DesktopModules/Tasks/Install.xml and your done. 

1.5.0.1789d - 19/01/2005
by Manu
- FIX: Image list for menu was empty, fixed now
- FIX: Aligned simplemenu styles to layouts styles. Better consistency
- FIX: More cleanup on layouts, now all layouts are compatible with default theme
- Separated a bit default.css in deafult theme for better management
- Validated default.css against w3c validator. No error found.

These changes fix:
http://support.rainbowportal.net/jira/browse/RBP-585
http://support.rainbowportal.net/jira/browse/RBP-107
http://support.rainbowportal.net/jira/browse/RBP-607

- Refactored layout names:
see: http://support.rainbowportal.net/jira/browse/BACKLOGS-84

I have renamed some layout... 
you have to change manually to new one in admin settings

- New layout may or may not work with your custom themes.

- All layouts should look nicely with every theme provided with these exceptions:
- do not mix zen and non zen (use zen layouts only with zen themes)
- Customnenusolpart layout and custommenu theme should be used togheter and 
  does not match other... will be refactored soon using new standards

Default               (unchanged)
DefaultPortalMenu  -> MenuHWDropDown (fixed width menu, only one per page)
<NEW>              -> MenuSolpartDropDown
MenuImages         -> MenuSolpartDropDownImages
Default            -> TabsMenuHWLeft (currently the same of default)
MenuBreadcrumbs    -> TabsMenuHWLeftBreadcrumbs (fixed width menu, only one per page)
<NEW>              -> TabsMenuSolpartLeft
<NEW>              -> TabsMenuSolpartLeftBreadcrumbs
<NEW>              -> TabsOnly (use with simple menu for render childs)
DefaultSubTabs     -> TabsSubTabs

Suggestion for your styles. 
I have done follow changes:
.sm_HWMenu -> .HWMenu
.PortalMenu -> .HWMenu

Simple menu rename
DHTMLMenu          -> MenuHWLeftStyle.ascx (see simple menu readme for details)
                      MenuHWTopStyle.ascx
StaticMenu         -> removed: duplicate of StaticItemMenu
<NEW>              -> Tabs.ascx (similar to Tab layouts)
other unchanged.... see readme for more info

- ENH: Updated de resurces. by Thomas Meyer
          
1.5.0.1789c - 19/01/2005
By Mike Stone
- EHN :   FAQ Module Ver 1.3 - 19. Jan 2005 - Changed the Answer field
          so that it is unlimited amount of text. To apply new changes simply 
          reinstall the Module - DesktopModules/FAQs/Install.xml  Make sure you 
          DO NOT Uninstall it first or you will loose all data. 

1.5.0.1789b - 18/01/2005
by Jes
- FIX : Alt/Title bug on module buttons
- FIX : Updated styles in Zen starter theme
by José Viladiu
- FIX : Revision in UsersDB.cs source
by Rob Siera
- FIX : Border instead of BorderWidth property in asp:datagrid of Tasks.ascx

1.5.0.1789a - 18/01/2005
by José Viladiu
- FIX : RBP-588 Delete Roles results in severe error 
- ENH : Update spanish resource file

1.5.0.1789 - 17/01/2005
by José Viladiu
- FIX : RBP-610 Can't add long tab names to deeper level tabs
- FIX : Added log messages if UpdateLastVisit or Monitoring fails (Info level)
- FIX : RBM-39 Picture module fails if template removed. Detected this situation and add a error message.

1.5.0.1788v - 17/01/2005
by José Viladiu
- FIX : RBM-7 Order By Title doesn't work. Mixed solution. Now portalSearch order by title is maked by a new DataView.
		TODO: Make the rest of items for search in DataView and remove order by in sql sentence.

1.5.0.1788u - 16/01/2005
by José Viladiu
- FIX : TabLayout. Now modules with the setting "Show on every page?" to true
		only can move, edit or delete in the original tab.
- FIX : Security bug found in pages used by external editors. This bug make possible to access into Portals directory and
		copy or delete any file found. Now this pages inherits security from Rainbow.UI.SecurePage
- FIX : RBM-211 SimpleMenu ParentTabID bug
- FIX : RBM-42 SignInLink causes validation controls 
 
1.5.0.1788t - 14/01/2005
by Rob Siera
- FIX : UserDefined Table: Validation code was not executed when Null value was saved, generating an error at display time.
- ENH : UserDefined Table: Added some Localization

1.5.0.1788s - 12/01/2005
by José Viladiu
- FIX : Jira RBP-577 Default Theme is rendering invalid HTML. Use of invalid aspnet property border
        (should be borderwidth) create attribute twice. 

1.5.0.1788r - 11/01/2005
by José Viladiu
- FIX : A problem found with the cache for modules showed in a Enhanced Html Page

by The Bitland Prince
- FIX : Jira RBM-205 & RBM-209 Connection closed to early in WhosOn module 

1.5.0.1788q - 10/01/2005
by José Viladiu
- FIX : Jira RBP-604 rainbow.build contains invalid basedir
- FIX : Jira RBM-44 & RBP-570 In editPortal get the cache value for portalsettings, this problem suppose that you
        always edit the settings from current portal not the edited portal.
- FIX : In editPortal correct the position of datasource & databind for recovery the changes made before update settings.

1.5.0.1788p - 10/01/2005
by Manu
- FIX: Some case issues on SQL scripts
- FIX: New portal creation on template failed for incorrect behavior of command

1.5.0.1788o - 09/01/2005
by Rob Siera
- FIX : Article Mod: String "Subtitle" visible if subtitle was string.empty
- FIX : Article Mod: Labels of 'Modified By' string visible even when Modified_by setting was false
- ENH : Article Mod: Added Back button to Article

1.5.0.1788n - 08/01/2005
by Rob Siera
- FIX : Yesterdays Fix of Jira RBP-545 (Update of DB in multi-DB environment) didn't work on clean DB.

1.5.0.1788m - 07/01/2005
by Rob Siera
- FIX : Changed tag of Enhanced HTML Active page menutitel to avoid problems in some cases with css inheritance 

1.5.0.1788l - 07/01/2005
by José Viladiu
- FIX : Jira RBP-579 Correct Arrows not always available. Now modules with the setting "Show on every page?" to true
		only can move, edit or delete in the original tab, not in all tabs and the reorder in the rest of modules not
		affect to this especial modules.
- FIX : Jira RBP-545 Update of DB in multi-DB environment

by John Mandia (www.whitelightsolutions.com)
1.5.0.1788k - 07/01/2005
- FIX: Now there is only one "UseAlias" entry (it is in Rainbow.config). This will be there until code dependancies 
	   have been fixed/altered.
- ENH: Updated UrlBuilder and Rewriter Dlls - Now have shorter friendlier urls by default!!
	   e.g. http://www.mydomain.com/site/1/default.aspx
  	   IMPORTANT NOTE: Updates to web.config must be looked at. UrlBuilder Provider and Rewriter Rules now have more settings.
   	   Since Urls are treated differently now (there is a setting that can switch between having tabid appear as other 
   	   querystrings e.g /tabid__1/default.aspx or at the end of the url e.g. /1/default.aspx
       There is a new handler flag "site" for UrlBuilder and Rewriter and the legacy rewrite rule entry has been updated
       to catch any cached urls/favourites (legacy rules' urlhandler flag is "portal" - the old handler flag [if you had 
       changed this to something else then please change it in legacy rule too!!!])
	   e.g. I had a site with a urlhandler flag of "john" (instead of portal). So I change the legacy rewrite rule 
	   handlerflag from "portal" to "john".
	   I still want my name in the url so I change the new urlbuilder handlerflag and rewrite default rule handlerflag
	   to "johnm" instead of "site".
	   Now all my sites urls will be www.domain.com/johnm/1/default.aspx etc and any cached links or favourites pointing
	   to www.domain.com/john/tabid_1/default.aspx will still work (since the legacy rule will catch it and handle it).                   
- Removed: <add key="TabSettingsCacheKey" value="_GetTabSettings_" /> from Rainbow.config as providers and external urls
	   now use the Rainbow.Settings.dll for cache keys.

1.5.0.1788j - 07/01/2005
by José Viladiu
- FIX : Jira RBP-168 sitepath multi level error
- FIX : Jira RBM-208 Error while editing in Enhanced HTML module
- FIX : Jira RBP-388 Issue when editing the security of a module

1.5.0.1788i - 07/01/2005
-FIX: Updated Rainbow.Rewrite. Create a problem in some scenarios.

1.5.0.1788h - 07/01/2005
By Grischa Brockhaus  GBS
cvs: mike stone 
- Fix:  Jira RBM-203 delete tabs rb tries to select the tab in the tree.
- EHN : AddTabs module will now select the current tab as the parent tab
        when adding new tabs. Jira RBM-198 
  
1.5.0.1788g - 06/01/2005
by Mike Stone
- FIX : Correct Tabs Cancel Button After Save. Jira RBP-594


1.5.0.1788f - 06/01/2005
by Christoph Schramm
- FIX : Added Key UseAlias to Rainbow.config and Web.config. 

1.5.0.1788e - 05/01/2005
by José Viladiu
- ENH : Update FCKEditor V2. Added more langs and fixed problems found. 

1.5.0.1788d - 05/01/2005
by John Mandia (www.whitelightsolutions.com)
- ENH : Updated rewrite rules and urlbuilder rule so that rule specific settings are now longer in rainbow.config
	    (they are defined with the rule [see bottom of web.config]).
	    Only the general Target Handler Page is left in rainbow.config.
- MOD : Set alias and lang setting to false by default (If you site uses more than one language it is best to be
	    on otherwise you'll get shorter uls leaving it off.
	    Having alias set to true may give you a very marginal performance boost but again makes the urls very long).
        cached urls (e.g. with lang and or alias in them) in search engines etc will still work on your site with
        these settings set to false.

1.5.0.1788c - 04/01/2005
by John Mandia - (www.whitelightsolutions.com)
- FIX : Improved performance of UrlBuilder Provider. In extensions I have updated the provider. There is a commented
		out implementation that use cache dependancy (dependant on tabsettings cache) but that doesn't seem to work
		(if anyone can see why I'd love to know). I've added an alternative solution which caches the url values:
		IsPlaceHolder, TabLink, Page Name and Url Keywords (so that it doesn't hit the db on every request).
		The cache time in minutes can be set via provide settings (It defaults to 5 mins).
- ENH : Added commented out code in HttpUrlBuilder for testing. The ability to preserve querystring values across
		modules on the same page. 
		e.g. you have Enhanced html (using querystring values to pass page id etc while staying on the same tab) and
		another module that uses the same technique (change module state without leaving the current tab).
		Before if you clicked a link on the enhanced html module (e.g. page 2) and then clicked on a link of another
		module on the same page you would lose the enhanced html state e.g. it would go back to page 1 (default state).
       	HttpUrlBuilder will now remember and add querystring values that were already set. This still needs testing
       	(which is why I commented it out. Simply uncomment and build rainbow). 

1.5.0.1788b - 04/01/2005
by Rob Siera
- FIX : 'Manage Table' button of UDT based on another UDT didn't work
- FIX : Image field in UDT didn't work anymore (due to a too drastic global find/replace by someone sometime ago)
- FIX : Tabs Module: "Use Old Version?" didn't work

1.5.0.1788a - 03/01/2005
by José Viladiu
- FIX : A problem found in HtmlEditorDataType when freetextbox is selected.
- FIX : When reedit a page in EnhancedHtml using a External Module.
- ENH : Add the last library for freetextbox editor (Version 3.0.3300.0)
- FIX : Remove obsolete attribute in methods while not exists nothing for replace it. Add a TODO comment

1.5.0.1788 - 2/01/2005
by Mike Stone
- EHN : Tabs Module upgrade. 
	    Now uncheck the Tabs module setting "Use Old Version?" to use new option.
	    This will allow you to add tabs/pages with full security,
	    location, and mobile names.  They alos have the option to jump
	    to the new tab or not. If left checked it will continue to use TabsLayout.
- EHN : AddTab Module now allows for for Show Mobile and Mobile Tab Name
        It will also now allow the user to Jump to the new tab or not.
	    Jira Issue http://support.rainbowportal.net/jira/browse/RBM-191 

1.5.0.1787g - 02/01/2005
by Rob Siera
- Fix : Portal Search: Error: Exception has been thrown by the target of an invocation
        (see http://support.rainbowportal.net/jira/browse/RBM-6)

1.5.0.1787f - 29/12/2004
by Rob Siera
- Fix : Changed last remaining .ExecuteReader() statements into .ExecuteReader(CommandBehavior.CloseConnection)

1.5.0.1787e - 28/12/2004
by José Viladiu
- ENH : New feature in EnhancedHtml module. Now the contents from others modules can be showed
		in a EnhancedHtml page. The modules can be selected from the current portal or others portals
		in the same database. Especial thanks to Rob Siera for the idea.

1.5.0.1787d - 26/12/2004
by Mike Stone 
- ENH : Reposting the work I Started on the Tabs Module upgrade. Tabs.ascx was changed with
	    a new module settings. Don't use it yet. I will let everyone know when I 
        am finished. It will go to a (new) AddTabs page (not module) but that page doesn't 
        save to the database yet, and it needs alot of code removed. 

1.5.0.1787c - 26/12/2004
- ENH: Added lines to web.config for WSE2SP2 dll that was added to bin a while ago
- ENH: Added a line for the XHTMLHTTP dll also

1.5.0.1787b - 24/12/2004
by José Viladiu
- FIX: Assign ComVisible to false

1.5.0.1787a - 23/12/2004
by Rob Siera
- FIX: Redundant files: Some files where moved to DAL directory but old ones still there
- FIX: Some FxCop changes where to drastic ;)

1.5.0.1787 - 23/12/2004
by José Viladiu
- FIX: Changed RoleAssignment/Viewer.ascx to RoleAssignment/RoleAssignment.ascx to unify criteria
- FIX: Clean a lot of unused code discover with FxCop

1.5.0.1786l - 23/12/2004
by José Viladiu
- FIX: A problem in doc system when the primary lang is not english, cannot get the help in
	   english if exists in the other lang. search for xxxx.en.xml file and not for the generic file.
- FIX: Move FxCop files to rb_tools folder
- FIX: Change namespace Rainbow.Modules in simplemenu sources to Rainbow.DesktopModules in order to unify criteria
- FIX: Remove "abstract" in all modules continuing the fxcop cleanup started by William Forney
- FIX: Change Boolean and String to bool and string in all methods continuing fxcop cleanup
	(see http://www.gotdotnet.com/team/fxcop/docs/rules.aspx?version=1.312&&url=/Naming/AvoidTypeNamesInParameters.html)
		

1.5.0.1786k - 22/12/2004
by Mike Stone 
- ENH : Started work on the Add new tab upgrade. Tabs.ascx was changed with
	    a new module settings. Don't use it yet. I will let everyone know when I 
        am finished. It will go to the (new) AddTabs page but that page doesn't 
        save to the database yet, and it needs alot of code removed. 
        I will not be able to work on it unil 26/12/2004.

1.5.0.1786k - 22/12/2004
by Manu
- FIX: Flash module does not throw exception for external file.

1.5.0.1786j - 20/12/2004
by William Forney
- ENH : Continuing cleanup of data logic.

1.5.0.1786i - 20/12/2004
by José Viladiu
- ENH: Separate user and admin modules in ModuleDefs and add css styles
- FIX: Update spanish resource file
- FIX: Corrections in used styles in EnhancedHtml module

1.5.0.1786h - 20/12/2004
by William Forney
- FIX : Replaced "" with string.Empty in a lot of files per fxcop & xcsharp rules
- ENH : Added using statements in a lot of the data access areas to ensure that things
	get closed and garbage collected properly. As a result of this, had to change
	a couple of places so that SqlDataReaders were not passed to UI layer. There
	is far too much of this going on. Instead moved read logic to connection area
	and returned the actual value that was needed to UI/Business layer.
- ENH : Applied these fixes to extensions projects and update dll's. Please test and
	let me know if you find problems. It is all working here.

1.5.0.1786g - 17/12/2004
by Rob Siera
- ENH : UserDefinedTable Module: 
        * Added possibility to add Sort functionality to XLS output
        * Added possibility to add View Detail functionality to XLS output
        * XLS output now supports Esperantus keys
        * XLS multilingual output now possible (see example 5)
        * Enhanced provided examples
- FIX : Keys in Resource file Rainbow.resx now sorted to help comparing resx files.
        (People responible for a resx file can send me a mail if they like their language to be sorted too. (support|-at-|holoncom|be) )
        Added several recently created keys.
        Cleanup of rainbow.fr.resx (sorting, removing obsolete keys, adding new keys)
- FIX : History.txt : correction of version number of recent additions
         
1.5.0.1786f - 17/12/2004
by Pekka Ylenius
- ENH: Added localization support for EnhancedHTML, SimpleMenu,
       New Portal Creation and fi-fi support for FCK.

1.5.0.1786e - 17/12/2004
by José Viladiu
- ENH: Added localization for all new settings in Documents module

1.5.0.1786d - 16/12/2004
by José Viladiu
- FIX: A problem with no cacheable modules when ModuleOverrideCache is set

1.5.0.1786c - 14/12/2004
by José Viladiu
- FIX: Picture Layouts now get correctly image buttons from current theme

1.5.0.1786b - 13/12/2004
by José Viladiu
- FIX: Move ThemeManager and LayoutManager to app_code folder

1.5.0.1786a - 12/12/2004
by Manu
- Renamed Register required (incorrectly added to available register pages)
- Included RegisterEmail to project.

1.5.0.1786 - 12/12/2004
by Manu
- Minor fixes on sql scripts
- Createdb.sql now explicity create a case insensitive database.
- Upgraded clean install to 1785, upgraded version number to 1.5
- Fixed and tested setup.wsh
- Clean install works on case sensitive installation
  (this do not mean a full test is done, only that clean install does not give errors)

1.4.0.1785l - 09/12/2004
by José Viladiu
- ENH : New Version of FCKEditor added. This version coexists with old version and
		now the user can try between FCKEditor or FCKEditor V2

1.4.0.1785k - 09/12/2004
by José Viladiu
- FIX : Restored AddEditPage used by ECommerce. Now in DesktopModules/Admin folder

1.4.0.1785j - 8/12/2004
by Manu
- Removed a couple of unecessary files in rb_tools. Added some info on check.bat
- Restored drop FindModuleByGuid
- other minor cleanup

1.4.0.1785i - 7/12/2004
by Xu Yiming <ymhsu@ms2.hinet.net>
- FIX: FindModulesByGuid now works (after having CVS problems)

1.4.0.1785h - 6/12/2004
by Rob Siera
- FIX: FindModuleByGuid was dropped and replaced by 
       FindModulesByGuid. But ModuleDB.cs is still using FindModuleByGuid.  
       Changed setup script 1.4.0.1785.sql so that it doesn't drop FindModuleByGuid yet.

1.4.0.1785g - 6/12/2004
by Xu Yiming <ymhsu@ms2.hinet.net>
- FIX: FindModuleByGuid now works with any number of modules (0 1 2 or more)

1.4.0.1785f - 4/12/2004
by Mario Endara
- FIX : Fixed Add New Portal bug when there's a "ShowEveryWhere" Module in the Template Portal
- ENH : Added settings in SignIn modules to show/hide "remember login", and "send password" options
		for better security in Intranets
- ENH : Changed HTML Editor Data Type so that multiple HTML Editors can be on a page at once (Chris Thames <icecold_2@hotmail.com>)

1.4.0.1785e - 05/12/2004
by Rob Siera and Bill Forney
- FIX : robots.txt now coherent with new dir structure.

1.4.0.1785d - 04/12/2004
by Bill Forney
- ENH : Rearranged some stuff in the MailHelper and overloaded the email function while leaving the old
        functions operational as stubs that call new one. Added xml comments to functions for intellisense.

1.4.0.1785c - 05/12/2004
by Rob Siera
- ENH : Register and RegisterFull now have NotifyOnRegister functionality by providing email in SiteSettings

1.4.0.1785b - 03/12/2004
by Rob Siera
- ENH : RegisterFullMail (see 1.4.0.1783a) now independent of thirth party mailcomponent.
        Still not added to VS.NET project

1.4.0.1785 - 03/12/2004
by Mike Stone
- FIX : SolPart Menu was upgraded to 1.4.0.0 and the SSL mouse over issue 
        is fixed. Upgrade to version 1.4 was not required to make fix.  

1.4.0.1784z - 03/12/2004
by José Viladiu
- FIX : RBM-16 Enhanced HTML layout bug. Now no table empty is added
- FIX : Changed all references to Localize for Esperantus.Localize, this change is for compatibility
	with ASP.NET 2.0 
	(Compiler Error Message: CS0104: 'Localize' is an ambiguous reference 
	between 'System.Web.UI.WebControls.Localize' and 'Esperantus.Localize')

1.4.0.1784y - 02/12/2004
by José Viladiu
- FIX : Change location of sample portal _Rainbow to the correct folder Portals/_Rainbow
- FIX : adminall/moduledefinitions.aspx moved to desktopmodules/moduledefinitions
- FIX : admin/tablayout moved to desktopmodules/tabs
- FIX : ADGroupMember, ModuleSettings, Logon and Logoff moved to DesktopModules/Admin folder
- FIX : Register.aspx and RegisterRequired moved to DesktopModules/Register
- FIX : AddNewPortal and EditPortal moved to DesktopModules/PortalsAdministration
- FIX : PropertyPage moved from DesktopModules to DesktopModules/Admin folder
- FIX : Removed unused files AddEditPage, EmptyModuleTemplate, PickDateCalendar and ZenTester
- FIX : Removed unused methods in ModuleDefs.aspx.cs
- FIX : Change folder logs to rb_logs
- FIX : Admin and AdminAll folders removed

1.4.0.1784x - 01/12/2004
by José Viladiu
- FIX : All resx files removed except localize resources. This files are unused now and only create problems.
		Change made for adapt the solution to whidbey especifications.
- FIX : Errors folder removed. Contents now in app_support folder

1.4.0.1784w - 01/12/2004
by Jes1111
- FIX : Zen DLL (MarinaTeq.Rainbow.Zen.dll) updated - cures
	http://support.rainbowportal.net/jira/browse/RBP-508
	(rc4: admin only subtabs appear when not logged in)

1.4.0.1784v - 01/12/2004
by Bill Forney
- FIX : AmazonFull module source was looking at wrong db connection string and
        buttons were not wired properly.

1.4.0.1784u - 01/12/2004
by Mario Endara
- FIX : Changes in Roles module to support security check

1.4.0.1784t - 30/11/2004
by Jes1111
- FIX : changed page construction logic in UI/Page.cs so that content of .aspx outside
		of the <form> tag is no longer suppressed. New scheme for .aspx files is:
			<html>
				<head runat="server"></head>
				<body runat="server">
					<form runat="server" ... >
					...
					</form>
				</body>
			</html>
		Note that no ID is necessary on head and body tags, but the runat=server IS needed.
		If ommitted, page.cs will not add any META tags, CSS, etc. All .aspx files in CVS have
		been changed. Please note that any custom .aspx pages will need to be changed.

1.4.0.1784s - 30/11/2004
by José Viladiu
- FIX : Images used by modules now are load from current theme
- FIX : Print.aspx now in app_support folder

1.4.0.1784r - 30/11/2004
by José Viladiu
- FIX : Corrections for no include portalsDirectory in portalPath when portal info is updated
- FIX : Flags folder used by LanguageSwitcher module and Selector webcontrol now in aspnet_client
- FIX : Images used for EventLogs Module moved to module folder
- FIX : Images used for SiteMap Module moved to module folder
- FIX : Images used for UserDefinedTable Module moved to module folder
- FIX : Images used for Discussion Module moved to module folder
- FIX : Removed unused images in Images folder

1.4.0.1784q - 29/11/2004
by Mike Stone
	Fix: Changed Rainbow.Settings.Path.ApplicationFullPath to
	             Rainbow.Settings.Path.ApplicationRoot
	     This will prevent the http:// being added to the SHORTCUT ICON href 
	     while on a secure https:// site.

1.4.0.1784p - 29/11/2004
by José Viladiu
- FIX : Documentation folder change the name to rb_documentation for adapt to new especifications
		(see http://support.rainbowportal.net/confluence/display/DOX/Rainbow+1.0+final+cleanup)
- FIX : Documentation files extension change from resx to xml.
		Warning: You must upgrade your custom documentation to a correct extension. 
- ENH : New folder rb_tools including nant, build files and checkers that now are in root
- FIX : HttpUrlBuilder and HistoryAttribute moved to app_code/rainbow

1.4.0.1784o - 29/11/2004
by Rob Siera
- ENH: User Defined Module: 
       * Allow display as raw XML (to simplify development of XSL)
       * Added XSL example that supports Edit functionality
       * Show ManageButton only when having Permission to edit Properties
       * Added possibility to use data of other User Defined Table 
         (thus enableling the possibility to display same data with different XSL)
- FIX: User Defined Module: 
       * ImagePath property now correctly saved
- ENH: FCK editor:
       * Better support of pastePlainText  

1.4.0.1784n - 28/11/2004
by Pekka Ylenius
- FIX : When '?' in ulr then '&' is needed not '?'. Visible only if short url like
        /DesktopDefault.aspx?tabID=3336&selectedmodid=10243 and click module move.

1.4.0.1784m - 27/11/2004
by Jes1111
- FIX: Javascript popups for Help System: simplified the
       techniques used - no possiblke clashes now. Applies
       to HeaderMenu help link and Help module button.

1.4.0.1784l - 23/11/2004
- FIX: Postback problems RBP-520:
       http://support.rainbowportal.net/jira/browse/RBP-520
- FIX: Mispelled script RBP-529:
	   http://support.rainbowportal.net/jira/browse/RBP-529

1.4.0.1784k - 26/11/2004
by Mike Stone
- EHN : Tasks Module now supports three new css tags. It no longer shares the
        HeadBg tag. They default to white as the old tag was set to. new tags where
        added to the bottom of these themes in the design folder.
          - CustomMenu
          - Default
          - DefaultAlternate
          - Duemetri  

1.4.0.1784j - 26/11/2004
by José Viladiu
- ENH : Replace FreeTextBox Version to 3.0 
- FIX : Resources used by FCKEditor now in aspnet_client folder
- FIX : Resources used by Active Up HtmlTextBox Editor now in aspnet_client folder
- FIX : New folder app_support for aspx pages used by external librarys or common buttons (print.aspx)

1.4.0.1784i - 26/11/2004
by Jes1111
- FIX:  Correction to fix in 1.4.0.1784h

1.4.0.1784h - 26/11/2004
by Jes1111
- FIX:  Fixed the problem where content added directly to a module's control collection
        (rather than to a placeholder) would be rendered outside the module.
- ENH:  You can now override a module's title text from within the module code by 
		assigning a value to this.TitleText within Page_Load().

1.4.0.1784g - 25/11/2004
by Jes1111
- ENH:  Moved ie7 to aspnet_client folder

1.4.0.1784f - 25/11/2004
by José Viladiu
- FIX:  Javascripts used by Rainbow now in the correct folder aspnet_client/Rainbow_scripts
		You must upgrade your custom module to point to correct resource:
		Replace all "Rainbow.UI.WebControls.client_scripts.confirmDelete.js" or
		"Rainbow.app_code.Rainbow.UI.WebControls.client_scripts.confirmDelete.js" by
		"Rainbow.aspnet_client.Rainbow_scripts.confirmDelete.js"
- FIX:  Delete unused javascript app_code/Rainbow/KickStarter/ValidateDate.js  
- FIX:  Corrections and clean code in Survey module
- FIX:  images used by Documents module moved from images/types to DesktopModules/Documents/types

1.4.0.1784e - 24/11/2004
by Mike Stone
- Fix: PortalSettings.cs default image folder path missing a /. 

1.4.0.1784d - 23/11/2004
MAJOR move on cvs repository.

The changes have propagated correctly.

FOR CVS DEVELOPER WITH WRITE ACCESS:
BACKUP YOUR LOCAL COPY BEFORE GET NEW CVS.

I strongly suggest to get CVS again in a fresh folder.

Anyway, if you keep it remove the following directories:
cvsroot/rainbowportal/CVSROOT/Rainbow/BLL
/cvsroot/rainbowportal/CVSROOT/Rainbow/Configuration
/cvsroot/rainbowportal/CVSROOT/Rainbow/Helpers
/cvsroot/rainbowportal/CVSROOT/Rainbow/KickStarter
/cvsroot/rainbowportal/CVSROOT/Rainbow/Security
/cvsroot/rainbowportal/CVSROOT/Rainbow/Service
/cvsroot/rainbowportal/CVSROOT/Rainbow/UI
/cvsroot/rainbowportal/CVSROOT/Rainbow/Ecommerce

Note: if you get:
Value cannot be null. Parameter name: Resource not found: Rainbow.UI.WebControls.client_scripts.confirmDelete.js 
Description: An unhandled exception occurred during the execution of the current web request. Please review the stack trace for more information about the error and where it originated in the code. 
Exception Details: System.ArgumentNullException: Value cannot be null. Parameter name: Resource not found: Rainbow.UI.WebControls.client_scripts.confirmDelete.js

You must upgrade your custom module to point to correct resource:
Replace all "Rainbow.UI.WebControls.client_scripts.confirmDelete.js", "Rainbow.app_code.Rainbow.UI.WebControls.client_scripts.confirmDelete.js"

the new repository module to get for have ecommerce is rainbowmodules

I have restored changes listed under 1.4.0.1784b - 22/11/2004 that were lost in the move.

1.4.0.1784c - 22/11/2004
by Mike Stone
- Fix: the addTab and UpdateTab had a index out of range error. 

1.4.0.1784b - 22/11/2004
by Manu
- FIX: Now long tab names are stopped before throw an exception
- FIX: Now you can add a tab with no name (will render as &nbsp;)
- FIX: Some fixes on Amazon Module
- FIX: Removed popup listener. Help now opens in a new window instead of popup and works nicely.
       This fixes all problems with Infragistics grid 
- FIX: Document module now shows images by default.
- FIX: other minor fixes
- ENH: Grandfathered (restored and updated) Duemetri theme
- ENH: Grandfathered (restored and updated) MenuBreadcrumbs layout

1.4.0.1784 - 18/11/2004
by Mario Endara
- ENH: New module Security Check. Allows to easily check modules & roles permissions
- ENH: New security schema. Removed all "Admins" restrictions but:
	1) Only "Admins" users can promote other users to the "Admins" role. No one can promote himself.
	2) Only "Admins" users can add admin modules to a tab
	Everything else is handled by roles.
	This allow to have different people in the portal handling users, content, etc.	
	Admins can add admin modules to a tab and then give control to an editor or an account manager.	
- FIX: Fixed links in some Pictures Layout

1.4.0.1783a - 20/11/2004
by Bill Forney
- FIX: Cleaned up some minor stuff that was throwing warnings in VS.NET
- ENH: Added 3 files for RegisterFullMail.  Needs small change to use built-in SMTP
       and it will email admin when someone registers. *Did not add to VS.NET project
- ENH: Added robots.txt file in rainbow root to prevent search engines from indexing
       stock images and allow further tuning of search engine indexing (needs tweaking)
       *Also not part of VS.NET project

1.4.0.1783 - 20/11/2004
by Chaz (added and fixed for RC4 by Manu)
- ENH: New module Amazon from KonoTree.com v1.0

1.4.0.1782b - 18/11/2004
by José Viladiu
- ENH: New setting "PortalsDirectory" added in web.config used for store the differents
       portals folders.
       This setting is for adapt Rainbow to new requeriments for 1.0 final version. See
       http://support.rainbowportal.net/confluence/display/DOX/Rainbow+1.0+final+cleanup
       for more information.
       WARNING: This new setting affect to the location of existing portals. You can change manually
       the location of different portal folders (cut & paste) or comment the setting for backward
       compatibility.

1.4.0.1782a - 17/11/2004
by Chris Thames
- ENH: Updated the Documents module to allow first impression to be sorted 
       by the documents module setting, either "FileFriendlyName" or by "CreatedDate" 
       and then they can decide which direction (ASC or DESC).

1.4.0.1782 - 17/11/2004
by José Viladiu
- ENH: Changes in Enhanced links module for use new webcontrol UploadDialogTextBox and FolderDataType.
- FIX: Update assembly version for add Enhanced links module automatically.
- FIX: Minor changes for no use obsolete functions.

1.4.0.1781b - 16/11/2004
by José Viladiu
- ENH: Enhanced links module added to core.
by Manu
- FIX: Committed some missing files on cvs and a couple of other minor fixes.

1.4.0.1781a - 12/11/2004
by Anne and Manu
- FIX: An number of fixes and cleanup on css and layouts.
       Old and unused css classes removed from default css themes
       
       The final goal is the possibility to interchange 
	   any theme with any layout you found on core. 
	   You can still define custom things that suit your need.
	   For this reason we are removing any font and color information from layouts:
	   the only place where font are set is the css of the current theme.
       This is not 100% true right now but I expect have it very soon.
- FIX: An number of fixes and cleanup on css and layouts.
by Manu
- FIX: Added support for Gecko (Mozilla/Firefox) and Apple (Safari) browsers on web.config
       This fixes a number of weirdness on firefox.
by Frano Hartman
- ENH: New Croatian language resource file by Frano Hartman.
by Hazem Torab
- ENH: New arabic resource file (Translated by RayaSoftware)
by John Bowen
- ENH: Added Cssclass tag to monitoring control to make it conform to the 
       active theme.
by Chris Farrell
- FIX: BUG RBM-14 - Content Manager cannot select right module

       
1.4.0.1781 - 9/11/2004
by Chris Farrell and Manu
- ENH: New module content manager. See readme in the folder for help.
       Can easily copy and move content between modules of the same type.
       Now supported:
       Announcements, Articles, Blogs, Contacts, 
       Documents, Events, FAQ, Links, Tasks
       
by Manu
- FIX: Minor fixes on other files
- ENH: Upgraded static dust uploader to latest version
- ENH: New uploaded file type for using on settings (uses static dust uploader)
- ENH: portal logo (in site settings) upgraded to uploaded file type 
- ENH: image control upgraded for use uploaded file type (now image are stuck on portal dir)
- FIX: Daily Dilbert cache fixed (by Mark Plowman)
- FIX: Install event in modules now uses path combine

1.4.0.1780a - 28/10/2004
by Mario Endara
- FIX: Added some cssClass for buttons in aspx
- FIX: Added cssClass support in HeaderMenu.cs to show correctly the <a href> with the right style, 
		since there is a style for the <A> label, the cssClass has to be in the <a href> label.
- FIX: Fixed DesktopPortalBanner.ascx in DesktopLayouts to remove unnecesary <span> with HeaderMenu
- FIX: Fixed DesktopPortalBanner.ascx to correct the cssClass in the PortalTabs menu (same reason as HeaderMenu)
- FIX: several fixes in css themes (the correct sintax is "A.class:subclass" not ".class A:subclass")
- ENH: Added alternateText in HeaderImage to Reinforce portal Title for Search Engines
- ENH: New AddPortal feature lets build a new portal based on another portal (Tabs, Modules and Security Roles). 
		You can have solutions squeletons (or real portals) and build a hole new portal with one click. 
		By suggestion of José Viladiu you can specify the stringconnection in the web.config for the portals templates:
		<add key="PortalTemplatesConnectionString" value="server=localhost;database=RainbowTemplates;uid=sa;pwd=" />
		If not specified, the default stringconnection ("ConnectionString") is used.
		When creating a new portal based on another, all Tabs are copied with all their modules without content,
		all permissions and settings are copied (for tabs & modules) and all security roles are copied too.
		You'll obtain a fully functional portal with no content with just one click.
		If you don´t want this feature, don´t click the "Use Template?" option and you'll have the old way.
		Changed Admin's Email in new portals to "admin@rainbowportal.net" for compatibility
		
1.4.0.1780	- 26/10/2004
by Gman3001
- FIX: Custom installed Registration page will now work when its module id is assigned to the 
	   Registration Module ID option in the Portal Admin tool
- ENH: All User Details(fields) contained in their rb_users record can now be easily accessed
	   by calling the static method 'GetCurrentUserProfile' in the PortalSettings class, that 
	   returns a Hashtable with the field name as the key.
- ENH: Added 2 new rb_users fields to maintain a user's last visit date, update last visit routine
	   executed when a user signs on
- ENH: Added support for the SolPartMenu system to apply a custom css styles to the currently active
	   root menu item for standard and mouseover modes
- ENH: Add a new desktop layout 'CustomMenuSolpart' which takes advantage of all the above new features
- ENH: Add a new theme 'CustomMenu' which is specifically created to work with the above new desktop layout,
	   includes new style sheet classes(utilized by the above mentioned enhancements),
	   and some embedded stylesheet documentation (based upon the new stylesheet layout classes)
- ENH: Add PortalModule content sizing, allows an administrator to set a specific width and/or height for a module,
	   setting to 0 (default), disables that setting, and add content scrolling option to allow module content to be scrollable
	   based upon the height and width settings, also Auto Width Stretch feature which will automatically fill the remaining space
	   that a module can use and also reset the content width to this new size (on client only) so that the content will
	   fill the whole content area (if a smaller width was originally defined)

1.4.0.1779e - 23/10/2004
by John Bowen
- FIX: Changed spelling of 'heidht' to 'height' in Rainbow.resx, Rainbow.en.resx
       and PortalSettings.cs

1.4.0.1779d - 22/10/2004
by Manu
- ENH: Now you can disable monitoring on web.config.
       Monitoring can easily slow down large sites with a lot of hits.

1.4.0.1779c - 18/10/2004
by Rob Siera
- FIX: Some corrections in EnhancedHTML module for better generated Html 

1.4.0.1779b - 16/10/2004
by Jes1111
- ENH: Improved Help system XSLT and CSS (again) and added "Zen Introduction"

1.4.0.1779a - 15/10/2004
by Manu
- FIX: in some rare cases an endless loop when portal does not exists, fixed now.

1.4.0.1779 - 14/10/2004
by Manu
- FIX: [ 754254 ] Unable to delete portals
	   Added CASCADE DELETE constrains on base tabs.
- FIX: [ 1045293 ] XSLT files provided don't display HTML inside RSS feed
	Note: The RSS -WithEscaping encode the resulted html, by default Html is not encoded.
- FIX: [ 1038593 ] Grammar typo in the resource files
- FIX: [ 1037950 ] Show My Orders does not work
- FIX: [ 738145 ] Tasks: Popup calendar & Mozilla

1.4.0.1778i - 14/10/2004
by Jes1111
- ENH: Improved Help system XSLT and CSS, tidied/added some existing help documents.
 
1.4.0.1778h - 14/10/2004
by Manu
- FIX: Improved search capabilites, now you can set Tabid and Itemid at module level
- FIX: Fixed a bug on products search (ecommerce), where some fields were excluded from search
- ENH: Products search now links directly to searched category
- FIX: Bug in page made Title in tab setting be ignored.

1.4.0.1778h - 13/10/2004
by Manu
- FIX: Now logon failed text is more visible
- FIX: Changed "Manage Tabs" to "Edit This Page"
- FIX: Increased Tabs edit control from 8 to 21 rows.
- FIX: PortalSearch friendly name renamed to Search (only for new installations).

1.4.0.1778g - 13/10/2004
by José Viladiu <jviladiu@portalservices.net>
- FIX: Corrections in MenuNavigation for show correctly nested familys of products

1.4.0.1778f - 10/10/2004
by Jakob Hansen 
- ENH: Better documentation of ServiceItemList. Still problems when displaying 
  file Documentation.resx. Now demodata is default retrived from www.rainbowportal.net.

1.4.0.1778e - 06/10/2004
by Manu 
- FIX: Some errors on PortalModulecontrol in design mode.
- FIX: Some errors on Page in design mode.
- FIX: A problem in clean install.

1.4.0.1778e - 07/10/2004
by Rob Siera
- FIX: [1042162] hardcoded design in admin/ModuleSettings.aspx. Now use css styles

1.4.0.1778d - 06/10/2004 - RC4
by Manu 
- ENH Better clean installation

1.4.0.1778c - 06/10/2004
by José Viladiu <jviladiu@portalservices.net>
- FIX: Remove references to log4net library, marked loghelper.log methods as obsolete and some
	   corrections in log provider implementation

1.4.0.1778b - 05/10/2004
by Manu 
- FIX: IMPORTANT SECURITY PATCH due to ASPNET BUG
  http://support.microsoft.com/?kbid=887459

1.4.0.1778a - 05/10/2004
by José Viladiu <jviladiu@portalservices.net>
- FIX: Remove all tab navigation cache keys when update TabLayout

1.4.0.1778 - 04/10/2004
by Manu and John
- ENH: Changed provider pattern implementation
- ENH: Provider solution cleaned out, now we have only 3 projects:
       System.Configuration.Provider 
			(provider pattern base and helper classes, where possible we follow whidbey convetions)
	   Rainbow.Provider
			(contains base provider definitions)
	   Rainbow.Provider.Implementation
			(contains actual provider implementation)
by Michel Barneveld
- FIX: Order in picture module
by Pekka Ylenius
- FIX: Cleared module cache on property changes

1.4.0.1777b - 04/10/2004
by José Viladiu <jviladiu@portalservices.net>
- FIX: CacheViewer now show all portal keys values in current cache

1.4.0.1777a - 04/10/2004
by José Viladiu <jviladiu@portalservices.net>
-ENH: New library for support static string values (Cache keys, Path keys, Portal Keys) and support
	  for cache operations.

1.4.0.1777 - 4/10/2004
by Mario Hartman
- DEL: Rainbow sourcecode for mobile rainbow has been removed.
       (New code will be added soon in the extensions directory)

1.4.0.1776c - 1/10/2004
by Manu
- ENH: logger is now a provider! You can replace log4net with other implementations
       Sources are on extensions on cvs....

1.4.0.1776c - 1/10/2004
by The Bitland Prince
- FIX: [ 1037080 ] PortalModuleControl bug causes "PortalID" to be 0
by Rob Siera
- FIX: [ 1037210 ] 'Don't Allow New Registrations' doesn't work (+ fix)
by Manu
- FIX: web.config casing fixed
- FIX: minor fix in PortalSettings

1.4.0.1776b - 30/09/2004
by José & Jes
- FIX: Corrections in properties help window
- ENH: Add this feature in Default layout

1.4.0.1776a - 30/09/2004
by José Viladiu <jviladiu@portalservices.net>
- FIX: Add some missings buttons in freetextbox editor.
- FIX: Bugs 1034767 & 1035988. Corrections in handler. Now BuildUrl return mID as a querystring param if mID > 0.
	   WARNING: If you set mID in customAttributes you can receive mID two times.
- FIX: Set Default image values in products.
- FIX: Number detection for View Order value in EnhancedHtmlEdit.
- ENH: Added new property ShowHelp into HeaderMenu and its default value is false. 
  	   In order to use this feature, 'ShowHelp="True"' should be added to HeaderMenu web control
  	   in DesktopPortalBanner.ascx file.
- ENH: Added new keys in Spanish resources.

1.4.0.1776 - 29/09/2004
by Manu
- ENH: New module Add Tab. Add tabs easily directy on a page.
- FIX: Missing procedure 'rb_GetModuleDefinitions' in clean install.

1.4.0.1775t - 29/09/2004
by Jes1111
- FIX: corrected shortcut module behaviour ... title was showing twice

1.4.0.1775s - 29/09/2004
by thierry@tiptopweb.com.au
- FIX: add portalUniqueID to cache in TabStripDetails (also in TabLayout to clear the same cache)
       this was causing a problem in multi-database mode when 2 different portals can have pages with same TabID

1.4.0.1775r - 28/09/2004
- FIX: Rechecked all data layer for missing close connection
- FIX: EnhancedHtml now release all connections nicely
- FIX: Wrapped all data read in try/finally. Connection is always closed 
       even if an error occurs.
- ENH: Added new security button for quick access setting page.
       (Inherits permission from properties)
- ENH: Add module: now the tile of the new module name is the same of the module
- ENH: Improved theme rendering performance (96 to 2 time taken)

1.4.0.1775q - 28/09/2004
by Jes1111
- FIX: Corrected rendering behaviour in PortalModuleControl so that the Theme part 
	   "ControlNoTitleStart" is used if ShowTitle is unchecked and there are no 
	   buttons to display.
	   
1.4.0.1775p - 27/09/2004
- FIX: Important fix in setup procedure. If something goes wrong in a module installation
       The database is not messed up and installation can run again after fixing the error.
- ENH: Sync clean version with current version
- From this version binaries are removed from CVS
  This should speed up offline tarball and cvs updates.
  Remember you have to rebuild the solution each time you get it from cvs with visualstudio or Nant.
  I have added to .cvsignore as well, please do not include again. :>
	/cvsroot/rainbowportal/CVSROOT/Rainbow/bin/Rainbow.ECommerce.dll
	/cvsroot/rainbowportal/CVSROOT/Rainbow/bin/Rainbow.dll
	/cvsroot/rainbowportal/CVSROOT/Rainbow/bin/Rainbow.xml

1.4.0.1775o - 27/09/2004
by Manu
- FIX: Register fixes caused an error when a new user was added by admin. Now it works. 
- FIX: Replaced add icon. 
- ENH: Updated samples in web.config to show how to use Esperantus with PA
- FIX: Image caption was not showed in Image only style
- FIX: PortalModule.portalSettings.PortalID works even if not placed on a Rainbow.Page
       (Previously returned a null ref error)

1.4.0.1775n - 27/09/2004
by José Viladiu <jviladiu@portalservices.net>
- FIX: Bug 1033540 AutoShopDetect now parentTab is detected

1.4.0.1775m - 27/09/2004
by Mario Endara <mario@softworks.com.uy>
- ENH: localized Ecommerce/Secure
- ENH: module XmlFeed - xslt files changed to open links in a new window

1.4.0.1775l - 26/09/2004
by John Mandia <john.mandia@whitelightsolutions.com>
-FIX: Register was creating build warnings. 

1.4.0.1775k - 25/09/2004
by José Viladiu <jviladiu@portalservices.net>
- FIX: Bug 1033336 Language select in EnhancedHtmlEdit

1.4.0.1775J - 25/09/04
by Manu
- FIX: Register page trhows error when register even if registration is succesful
- FIX: Id cannot be changed on usr add, now field is hidden.
- FIX: Flash module. Removed posback check that in some cases prevent settings to be applied

1.4.0.1775i - 24/09/04
by Manu - Ecommerce fixes
- FIX: Friendly error message is displayed when Gateway/Shipping is not set instead error page
- FIX: [ 1031773 ] checkout does not show gateway
- FIX: fixed OrderID length bug on order compare in finalize order
- FIX: added weight to default templates
by Manu and Christian
- FIX: [ 925881 ] ECommerce CheckOut Bug: rb_Orders Table (fixed the call)
- FIX: [ 925890 ] ECommerce CheckOut Bug: shipping state field problem
- FIX: [ 925896 ] ECommerce CheckOut Bug: Billing-Address vs Shipping-Address
- FIX: [ 880936 ] Bug 851465 Caused by Install not creating ECommerce Tables
       Now there is only one installer for all ecommerce related modules
- FIX: [ 925886 ] ECommerce CheckOut Bug: Zip-Code doesn't show
- FIX: Friendly error message is displayed when Gateway/Shipping is not set instead error page
by Manu and Robert Siera
- FIX: [ 905233 ] Module setting are not saved in rb_ModuleSettings table
by Manu in Esperantus
- FIX: [ 1032915 ] BUG: Alt property defined twice


1.4.0.1775h - 24/09/04
by Ozan Sirin (ozan@rainbow.web.tr)
- FIX: Changed @itemCount variable's name to @ItemCount in rb_CartMigrate stored procedure for
       Accent sensitive DBMSs. 
- FIX: Now User Defined Table module shows sort images when running root site(http://localhost) 
       instead of rainbow (http://localhost/rainbow) virtual folder.

1.4.0.1775g - 23/09/04
by Jes1111
- FIX: Fixed CSS in default theme - "Image only" module buttons were not showing up 
	in Firefox

1.4.0.1775f - 23/09/04
by John Mandia
- FIX: Fixed bug in "Add Module" module
- Fix: Zen Dll - Ie7Script when blank will now not create a Javascript error

1.4.0.1775e - 23/09/2004
by José Viladiu <jviladiu@portalservices.net>
- FIX: Bug 1006137 UseSingleUserBase now is tested in security methods

by Rob Siera
- ENH:  Small enhancement of Article Module: Default expire date no longer 
	hard-coded. Set the new Custom Module Property 'Default Days Visible'

1.4.0.1775d - 22/09/2004
by Manu
- FIX: Now password protection on update can be turned off
       (just do not provide user name in web.config in setup folder)
- FIX: Now password protection on update is off by default
- FIX: Now password protection password is case sensitive
- FIX: Now password protection on update does more checks and should not throw exceptions

1.4.0.1775c - 22/09/2004
by José Viladiu <jviladiu@portalservices.net>
- ENH: Warnings, localized and new messages in ThemeCacheManager

1.4.0.1775b - 21/09/2004
by Manu
- ENH: Flash module default beckground now is white
- FIX: Type in discussion resources.

1.4.0.1775a - 21/09/2004
by john.mandia@whitelightsolutions.com
- ENH: Updated Provider Implementation for url builder and Tab Settings 
       to add support for Url Page Name (You can specify custom page names for the end 
       of your url instead of DesktopDefault.aspx [Default Page Name is used if tabsetting is blank]).
- FIX: Added Regex to replace any illegal characters in Tab Url Keywords and Url Page Name with "-".
- FIX: Updated Zen Themes to reflect updates.
- ENH: Added ZenBreadCrumbs implementation to Zen Solution.
 
1.4.0.1775 - 20/09/2004
by Manu
- ENH: New module for manage cached Layouts and Themes list (alpha test... not perfect)
- FIX: Them cache is correctly invalidated when a theme changes and loads correctly.
       (If you change a theme you have not to restart application to have rainbow load new one)
- FIX: Refreshed Discussion module installation
- FIX: Rainbow.Page.Render() now warns about removed tags
- FIX: Some cleanup on flash module

1.4.0.1774b - 20/09/2004
by José Viladiu <jviladiu@portalservices.net>
- FIX: For compatibility with older databases check if new settings are null in SignIn
- FIX: Remove cache key from current tab in TabLayout to force update changes in menu hierarchy

1.4.0.1774a - 20/09/2004
by Jes and José
- FIX: Corrections in xslt documentation files
- ENH: New options into documentation menu
- ENH: Documentation files in spanish language

1.4.0.1774 - 19/09/2004
by Manu
- FIX: Now when user or admin changes its email no error occurs.
- FIX: A possible security bug in user editing process.
- FIX: Register simple now has same code base of register full 
       and hopefully no bugs.
- FIX: Edit current tab link on header menu now is on by default
- FIX: Other minor fixes
and (thanks to Wobbly Bob for point them out)
- FIX: Removed viewstate from monitoring table
- FIX: Removed hard coded Gainsboro color reference on FAQ
- ENH: added <span class="normal"> in HTMLEdit to enclose 
       the html editor placeholder with the 'normal' background colour / style.

1.4.0.1773z - 17/09/2004
by José Viladiu <jviladiu@portalservices.net>
- FIX: Set the DOCTYPE tag in ViewerPage
- FIX: Documentation and images for EnhancedHtml Module
- FIX: Other minor fixes

1.4.0.1773y - 17/09/2004
by john.mandia@whitelightsolutions.com
- FIX: AddModule to support changes to documentation system
- FIX: PortalModuleControl.cs to support changes to documentation system
- FIX: AddModule documentation file to support image
- FIX: Added Image for AddModuleDocumentation
- FIX: Documentation ViewerPage to get correct path when refering to images.
- FIX: Added Missing Printer icons from Default and DefaultAlternate Themes and updated theme.xml files.
- FIX: Removed Btn references from zen theme & css.

1.4.0.1773x - 17/09/2004
by Manu
- FIX: Flash module now reports error when file is missing and never freezes
- FIX: Ecommerce compliance to new standards and some minor fixes
- FIX: Links image were incorrect, now edit icon is picked from current theme
- FIX: Other minor fixes
- FIX: Some cleanup (perf folder and other legacy files)

1.4.0.1773w - 16/09/2004
by José Viladiu <jviladiu@portalservices.net>
- FIX: Corrections in expand/collapse functionality
- FIX: Correct a bad image url in ImageMenu layout

1.4.0.1773v - 16/09/2004
by Jes
- FIX: default DOCTYPE was causing problems with classic themes. 
	   The DOCTYPE default is now an empty string. If the current
	   theme is a Zen type and the Site Settings DOCTYPE has not been
	   set then a value is pulled from Zen Settings in Rainbow.config and
	   used. Note that this still means if you DO set a value in Site
	   Settings which does NOT force Standards Compliance mode then Zen
	   themes will not work properly.

1.4.0.1773u - 15/09/2004
by Jes
- FIX: fixed problem with Tabs module rendering. Something I added in 
	   new PortalModuleControl was to wrap each module in a DIV: the 
	   actual form is <div id="mID[nnnn]" class="[moduleType]>...</div>,
	   where 'nnnn' is the moduleID and moduleTYpe is the name of the 
	   type of module. Both of these values help with 'advanced' CSS 
	   styling ... you can apply certain CSS rules to one module instance
	   only by prefixing a CSS rule with #mIDnnnn (for example: 
			#mID1028 p{color:Red} 
	   would make paragraph text red in module with ID of 1028 only. This
	   is the basis of the new Custom Theme per Module capability. The other
	   attribute (class="...") is similar but broader in scope ... you can 
	   specify that paragraph text is red in ALL instances of HtmlModule with
	   a CSS rule like: 
			.HtmlModule p{color:red}
	   Of course, that was the problem with the Tabs module ... the CSS class 
	   name of "Tabs" was already used... and was being applied to the whole
	   module, causing rendering to mess up ... so I've modified the code so it
	   uses the full internal name, e.g HtmlModule_ascx. This will avoid conflicts
	   and means that to specify a CSS rule to a specific module type you would use:
			.HtmlModule_ascx p{color:red}
	   Same effect...no conflict ;-)

1.4.0.1773t - 15/09/2004
by Manu
- ENH: New Default Layouts (some more cleanup)
- ENH: Removed old layouts
- FIX: Corrected default image path
- FIX: A bug on loading themes the couses "Portal not found" error
- ENH: Some cleanup on clean install scripts
- FIX: A bug on Flash module prevented FlashGallery to show
- FIX: A bug on Flash module prevented fonts to be displayed correctly

1.4.0.1773s - 14/09/2004
by Jes - ENH: Help Enhancements
by Manu - ENH: New Default Layouts

1.4.0.1773r - 14/09/2004
by José Viladiu <jviladiu@portalservices.net>
- FIX: A security problem when user access to a view page. Now if module id is in query string then
       security access get the correct security settings from module.
- ENH: If the user is not authenticated and need credentials for a specified url then goes directly to logon page.

1.4.0.1773q - 10/09/2004
by José Viladiu <jviladiu@portalservices.net>
- FIX: A problem with imagemenu directory. Now work also with _portalname/desktoplayouts directory
- ENH: Add cache for imagemenulist and if not exists menuimages folder and is required by layout then
	   create with solpart images needed.
- FIX: Recovery changes made by john.mandia@whitelightsolutions.com in 1.4.0.1771b version (check note in this file)

1.4.0.1773p - 09/09/2004
- FIX: Close a couple of connection open after sqldataread.

1.4.0.1773o - 08/09/2004
by Jes and some fixes by Jose
- FIX: Print now not change settings
- FIX: The name for default button images was incorrect.
- ENH: Cache for themes. The problem with speed in zen themes is solved.
	   The files ThemeImageCollection.cs and ThemePartCollection.cs are excluded from project. Not used
- ENH&FIX: Better table settings

1.4.0.1773n - 08/09/2004
by Mark, John & Jose
- FIX: Constructor in PortalModuleControl now detected HttpContext.Current before being used.
       The solved problem affected the VS Designer.

1.4.0.1773m - 06/09/2004
by John Mandia (www.whitelightsolutions.com)
- FIX: Corrected a bug in Setup Authentication (Setup\web.config is where you set the username and password 
       for a user to be able to run setup or apply patches).

1.4.0.1773l - 06/09/2004
by Jes and some fixes by Jose
- FIX: Corrections PortalModuleControl.cs and Page.cs and Zen-Starter theme

1.4.0.1773k - 05/09/2004
by John Mandia (john.mandia@whitelightsolutions.com)
- MOD: Changed Image Sizes in Theme.xml for all themes (They were incorrect size previously and new rainbow code showed that it was incorrect).
- MOD: Set EnableViewState="False" in Blogs.ascx,ArchiveView.aspx and BlogView.aspx, except for dlComments in BlogView.aspx as suggested
       by Joe Audette (Blog Module Creator).

1.4.0.1773j - 04/09/2004
by John Mandia (john.mandia@whitelightsolutions.com)
- MOD: Removed Default Setting For MetaOtherSetting In PortalSettings
- MOD: Changed CacheKeyMethod in TabSettings to use a value from rainbow.config instead of a hardcoded value.
- MOD: Moved Rainbow Cache Settings & Zen Settings From Web.config to Rainbow.config
- ENH: Improved Provider Model Implementation For UrlBuilder (No longer relies on Rainbow.dll) and updated HttpUrlBuilder.cs

1.4.0.1773i - 04/09/2004
by Jes
- FIX: Corrections in PortalModuleControl.cs and Page.cs for correct show old themes.
- FIX: Corrections in zen layout and theme

1.4.0.1773h - 02/09/2004
José Viladiu <jviladiu@portalservices.net>
- FIX: Delete references to DesktopModuleTitle in all modules for no warnings in obsolete methods

1.4.0.1773g - 2/09/2004
by Jes
- Added CSSHelper file and new ModuleButton File.
- Solution now builds but needs testing.

1.4.0.1773f - 2/09/2004
by Jes
- WARNING: Project Does Not Build Yet (Need to add updated ModuleButton.cs File).
- ENH: Rebuilt PortalModuleControl and DesktopModuleTitle as well as Page.cs.
- ENH: Added an alternative Theming Engine Called Zen (Still in testing stages).
- ENH: Added New Themes and Layouts to support new engine as well as multiple other improvements.


1.4.0.1773e - 1/09/2004
by Manu
- FIX: Announcements viewstate restored.
- FIX: Links now sow up properly when logged not logged as admin

1.4.0.1773d - 1/09/2004
by Manu
- FIX: An annoying bug on tabs. Localized contents does not show properly on menus.
       Now the Tab cache key includes language. I have increased refrest to 90 seconds 
       to improve performance.
- ENH: Small improvement in highly called code. High traffic sites should see 
       an increment of 5% on througoutput.
- ENH: Minor fixes to Ecommerce and BankGateways.
- ENH: Added sorting options on Announcements module.
- FIX: Uploaded missing languages and images files for Ftb 2.0.7

1.4.0.1773d - 01/09/2004
José Viladiu <jviladiu@portalservices.net>
-FIX: EnhancedHtml now not show navigation links in Print Page

1.4.0.1773c - 01/09/2004
José Viladiu <jviladiu@portalservices.net>
-ENH: Add support for FreeTextBox 2.0. This Editor support Mozilla 1.3+ and IE 5+. 
-ENH: Add new button in FreeTextBox for Image gallery and File Upload iFused 1.2.5.4358 from StaticDust.
	  Warn: This uploader need Session established in web.config.
	  Many thanks to John Mandia and Miguel Gimenez for help me in this implementation.

1.4.0.1773b - 31/08/2004
Jakob Hansen
- DOC: Added module ServiceItemList and XmlFeed to the documentation system 
       (see folder \Rainbow\Documentation).
       The text to XmlFeed is not completed.

1.4.0.1773a - 27/08/2004
José Viladiu <jviladiu@portalservices.net>
- FIX: Add localizations for new features
- FIX: Spanish resource updated

1.4.0.1773 - 26/08/2004
José Viladiu <jviladiu@portalservices.net>
- FIX: Add default values in new MoveModulePermissions and DeleteModulePermissions for existing modules
- ENH: Add a new property "AutoShopDetect" for use in MenuNavigation and SolpartNavigation. If set to true then
       not show categories except if the tab with products module is the active tab, showing the categories with
       appropiate url. This change make ShopNavigation obsolete.
- ENH: Add a new property ShowIconMenu for use in SolpartNavigation. This change make possible to add images in
       menu fields for each tab in site. The images are located in actual layout directory/menuimages. A sample
       image layout is added for show how use them.

1.4.0.1772 - 24/08/2004
John Mandia (www.whitelightsolutions.com)
-ENH: Created button to delete module making use of Jose's code changes (Previously was using close 
      button functionality which did remove Module from view (For that user) but didn't delete it)
-ENH: Added Provider Model Support For UrlBuilder so that you can create your own UrlBuilders to create 
      different styled urls (requires that you create a corresponding ReWrite.Net Rule to translate your new url)
      I would like to thank James Geurts <jim@biacreations.com> for creating an example of the provider pattern
      and for letting us use his System.Configuration.Providers.dll Implementation.  

José Viladiu <jviladiu@portalservices.net>
- ENH: Add a new MoveModulePermissions and DeleteModulePermissions and change all necessary sources for use them
- ENH: Add EnhancedHtml styles to standard themes
- FIX: Print page now only show module contents
- FIX: Show module title whenever buttons exist
- FIX: A problem when render module and apply theme setting is false. Sometimes it showed the theme.
- FIX: TabLayout: OnUpdate Flush the cache for recovery the changes made
- FIX: Correct documentation.resx files for not make dtd comprobation

Rob Siera
- ENH: Provide default Topic to search for in PortalSearch

Mark A. Gregory <mgregory@gt.com.au> & Jonathan Fong www.gt.com.au
-ENH: Added more support for LDAP in Rainbow
-ENH: Added document about LDAP in Rainbow

1.4.0.1771e - 24/08/2004
by Manu
- FIX: Now theme images not provided are picked form Theme\Default theme
  This allows you to have lighter themes and you never need to copy default images.
  See Light theme for an example.
- ENH: New language by danijel kecman, translation for serbian language 
       in both versions, latin and cyril

1.4.0.1771d - 23/08/2004
by Marco Endara
- FIX: ROOT_LEVEL in various places
- FIX: Tasks identity default
- FIX: Fixed Header Menu for missing TabID
- FIX: In global.asax if an error is thrown getting portal the user is redirected
       to "error no portal" page 
by Manu
- FIX: Checked Flash file existence to avoid IE to freeze in Flash Module
- FIX: Minor fixes to BankGateway Project
- Small cleanup on some hardcoded fonts, replaced with css references
- Added small module on admin folder: Register Required
- New Shipping sample named SimpleShipping. Provides a list based shipping for
  a well known list of destinations.
- New Testing project on rainbow/Testing module

1.4.0.1771c - 17/08/2004
John Mandia (www.whitelightsolutions.com) added contributions by:

by José Viladiu
- FIX: Rainbow bug 1007128: Add access to ViewItemPages to PortalSearch & ServiceItemList modules.
- ENH: Jose added support for the documentation system to module title.

1.4.0.1771b - 17/08/2004
by John Mandia (www.whitelightsolutions.com)
- Fixed: a bug in AddModule (Naming of Center Pane was wrong. It still showed up on a tab but not via the tablayout aspx page).
- ENH: Enhanced the tablayout page to be similar to my Add Module Module. You can now select default view pemissions and location via dropdown menus.
- Changed: PortalModuleControl.cs It had a hardcoded check to see if modules marked as Admin Modules were being viewed by a role other than Admins if they were not in Admins then they were rejected (I think this is because TabLayout used to give "All Users" default viewing permissions for all modules added. You can now control that via enhancement mentioned). This has been commented out as there may be situations where you want someone to use an admin module but dont want to give them full rights.
NOTE: PLEASE CHECK YOUR SITE. IF YOU HAVE ADMIN MODULES ON NORMAL TABS AND YOU HAVE NOT UPDATED VIEW PERMISSIONS TO REMOVE ALL USERS THEN THEY WILL BE ABLE TO SEE YOUR ADMIN MODULE. LOGOUT OF YOUR SITE AND BROWSE THE PAGES WHERE YOU PLACED ADMIN MODULES TO ENSURE THEY ARE NOT VIEWABLE BY ALL USERS.

1.4.0.1771a - 16/08/2004
by John Mandia (www.whitelightsolutions.com)
- Added Introduction Help File For Role Assignment Module (Xsl for help system still needs to be done).

1.4.0.1771 - 15/08/2004
by John Mandia (www.whitelightsolutions.com)

- Tidied up Admin & AdminAll Folders (Removed aspx pages that were no longer used, Moved all modules to DesktopModules to have 1 place for all modules).
- Appended "Admin - " To all modules that may give average users too much power (e.g. The DB Tool module) and marked them as Admin Modules.
- Fixed unknown bug in Security.cs (When checking for publish permissions it was calling the wrong stored procedure).
- Removed a duplicate stored procedure (Checked code to make sure there were no references to it - rb_GetAuthPublishRoles).
- Added Additional methods to Security.cs to allow the retrieval of roles for different types of permissions easily.
- Added Additional methods to UsersDB.cs: GetUsersNoRole (Retrieve all users who are not assigned to a particular group) and GetRoleNonMembers (Retrieve all 
  users who do not belong to the role specified) and added two stored procedures to support this methods.
- Added New Module - Role Assignment (Allows you to easily add or remove a user or multiple users to/from a role and allows you to assign users who have no role to a role. 
- Added a foundation for a help system so people can start to add help documentation for their modules (Soon to be followed by core help files and extension help files).
  A new directory now exists "Documentation" within that are 4 folders: Core, Extensions, Modules and Style. Currently only Modules and Style will be used. Create a folder 
  in "Modules" that matches the name of the modules' folder in DesktopModules. Add an image folder to it if you will use images. 
  Create a help doc in DITA format (http://xml.coverpages.org/dita.html). I recommend using the Desktop version of authentic® 2004 
  (You can download a free version from http://www.altova.com/download_authentic.html). You can either use the existing DITA example as a template or create a new one.
  Save the xml file as Documentation.xml to /Documentation/Modules/YourModule/ and then rename the file to Documentation.resx (This is to prevent people from downloading your
  documentation via a direct url. It still opens up in VS and in notepad, just don't include it into the Rainbow project as VS will complain). The current stylesheet used is 
  very basic (I'll be adding a better one before RC4) .
- Added New Module - Add Module (This module can be dropped onto a tab to allow users to add modules directly. It has many features. To read the help file (looks ugly at the 
  moment, select Admin - Add Module in the drop-down menu and it will detect that this module has a help file [ So you can see what a module does before adding it]).
- I plan to add support for documentation to existing modules before RC4 (but this isn't done yet). 
- Dropped TabAdmistration as the New "Add Module" and Move Module arrows replace this functionality.


1.4.0.1770n - 15/08/2004
John Mandia (www.whitelightsolutions.com) added contribution by:

Mario Endara
- added localizations missing from Flash, Documents and Discussion Modules and updated resources for spanish and catalan language

1.4.0.1770m - 06/08/2004
by Jakob Hansen
- DOC: Updated documentation on module ServiceItemList. Only file readme.txt was changed (no code change!).


1.4.0.1770l - 05/08/2004
John Mandia (www.whitelightsolutions.com) added contribution by:

Mark A. Gregory <mgregory@gt.com.au> & Jonathan Fong www.gt.com.au
-FIX: More LDAP Improvements/Fixes Files Changed (ADGroupMember.ascx.cs, ADHelper.cs, Global.asax.cs, HeaderMenu.cs, LDAPHelper.cs, RainbowPrincipal.cs and TabLayout.aspx.cs).


1.4.0.1770k - 04/08/2004
by Jakob Hansen
- FIX: In file Events.ascx.cs: 
       Added call to HtmlEditorDataType.HtmlEditorSettings (like in all modules that uses an Editor).

1.4.0.1770j - 03/08/2004
Cory Isakson (cisakson@yahoo.com)
- ENH: 2 new navigation realted items added to tabsettings.  Checking the Placholder box will render the tab in the navigation as a label without a link.  Entering a static URL will render the tab as a link to a page outside the portal.
- FIX: Tabs module and Tablayout would send the user to the last tabid in the portal.  It now returns them to the tab that hosts the tabs module.

1.4.0.1770i - 03/08/2004
by Jakob Hansen
- FIX: In file NewsLetter.ascx.cs: 
       Removed unused code in SendNewsletter() to make install from scratch work.
- FIX: In file HtmlEditorDataType.cs: 
       Added checks in HtmlEditorSettings() to make install from scratch work.

1.4.0.1770h - 03/08/2004
by Jakob Hansen
- FIX: In file DesktopModuleTitle.cs: 
       Changed 'History("Nicholas Smeaton","07/24/2004"...' to 'History("Nicholas Smeaton","2004/07/24"...' 

1.4.0.1770g - 03/08/2004
John Mandia (www.whitelightsolutions.com) added contribution by:

Mark A. Gregory <mgregory@gt.com.au> & Jonathan Fong www.gt.com.au
-FIX: Fixed an issue with Security.cs that prevented LDAP from working with Rainbow properly

1.4.0.1770f - 02/08/2004
by John Mandia (www.whitelightsolutions.com)
- FIX: Fixed Add arrows icons in the module title to move modules on the page (Images For the arrows were not showing).
  Note: For People with custom themes you need to add 4 images to your theme folder (up.gif, down.gif, left.gif and right.gif)
        You also need to add references in your theme.xml file (See current themes for an example).

1.4.0.1770e - 02/08/2004
John Mandia (www.whitelightsolutions.com) added contribution by:

Mark A. Gregory <mgregory@gt.com.au> & Jonathan Fong www.gt.com.au
-ENH: LDAP Support via a helperfile, core changes, Novell & Mono Dll, and SignInLDap Module (Module Not Added By Default)
      Also added additional settings to web.config to support ldap

1.4.0.1770d - 01/08/2004
John Mandia (www.whitelightsolutions.com) added contribution by:

José Viladiu <jviladiu@portalservices.net>
- ENH: Added FCKEditor to Rainbow Solution.
- FIX: SiteSettings: OnUpdate Flush the cache for recovery the changes made
- ENH: Added new property ActiveModule in PortalSettings. Now is possible to know
	   witch module call a page if module id is not in request.
- ENH: New function HtmlEditorDataType.HtmlEditorSettings. This function set the 
	   correct settings for all modules that using html editor. Corrections for use
	   in modules.
- FIX: EnhancedHtml: Corrections in url for include module id
- ENH: New FolderDataType: This control implement a DropDownList with a list of 
	   directorys and a TextBox for add and create a new directory. Used in
	   PortalSettings for default portal editor settings and in HtmlEditorSettings
	   for module editor settings.
- ENH: HtmlEditorDataType: Modifications made for use a variable image directory
	   for modules. Now the html editors get and upload the image files from a 
	   setting module. The base directory is _portalname/images and the default
	   directory is _portalname/images/default.
- ENH: Added new string ImageFolder in interface IHtmlEditor and implemented in
	   derived classes.

1.4.0.1770c - 01/08/2004
by Nicholas Smeaton and Thierry (www.tiptopweb.com.au)
- ENH: Add arrows icons in the module title to move modules on the page
       The icons appear for users allowed to set properties of the module
       (the shortcut module allows this only).
       Added a setting for the site to desallow the arrows (default: arrows are displayed)
       Added a setting in the page property for individual modules
       Files modified: PortalModuleTitle.cs, PortalModuleControl.cs, PortalSettings.cs + Themes for 4 arrow icons
  TODO: new security permissions to move and delete modules
      
1.4.0.1770b - 29/07/2004
by Leo Duran <leoduran@gmail.com>
- FIX: Added some code to fix a problem with Active Directory when
       you are using Rainbow on an IIS server that is not also the 
       Domain Controller. Changed ADHelper.cs, PortalSettings.cs, and
       added 3 new keys to the web.config file. BY DEFAULT the code is 
       turned off.


1.4.0.1770a - 29/07/2004
- ENH: Better error managment on property pages. 
       When a setting fails a message is displayed on page
       and a meaningful error is logged.
- FIX: Minor fixes on newsletter module. 
       Changed placeholders from <%%> to {} for a better support of html templates.
       Fixed some typos on replace and the direct url.
- FIX: Restored newsletter installation on clean portals

Ecommerce
- FIX: Ecommerce XSLT called wrong code. Now displays correctly.
- FIX: Gateway Credit transfer had wrong title.
- ENH: Better pages for ecommerce checkout.
by José Viladiu <jviladiu@portalservices.net>
- FIX/ENH: Secutity enhanced for Ecommerce modules.
- ENH: New ECommerce solution. This solution use the same web of Rainbow 
	   and is possible to use debugger like in rainbow solution. 
	   (See UseEcommerceSolution.txt for details) 
- FIX/ENH: Updated nant build files for ecommerce.

1.4.0.1770 - 23/07/2004
by José Viladiu <jviladiu@portalservices.net>
- FIX/ENH: Security enhanced for all modules. Now is not possible to access property, 
           edit or view pages out of correct module/tab.
- FIX/ENH: Corrections and Localization Newsletter module 
- FIX: ECommerce: Added localization in ProductsEdit
- FIX: Corrections in Default.aspx for pass parameters to DesktopDefault. 
       Workflow not work in initial page.
- FIX: Corrections in workflow buttons
- ENH: Added new settings for portal editor default. 
       The default editor for modules is now configured at portal settings
       The modules with no specific editor settings like workflow now using the editor default.
- ENH: Added support editor for workflow modules
- ENH: Added cancel button for workflow modules
- FIX: Author comments deleted in aspx/ascx files.
       The only thing that is obtained is to load the page in the client.
- FIX: Correct translation keys in Contacts module
- FIX: Warning in tabsettings for variable not used
by Mario Endara
- ENH/FIX: Localization fixed and added in Workflow, Discussion, Newsletter & BlackList
- ENH: Update Spanish & Catalan resource files

1.4.0.1769e - 14/07/2004
by José Viladiu <jviladiu@portalservices.net>
- FIX: Corrections in workflow buttons
- ENH: Added new settings for portal editor default. 
       The editor default for modules is now configured at portal settings
       The modules with no specific editor settings like workflow now using the editor default.
- ENH: Added support editor for workflow modules
- ENH: Added cancel button for workflow modules
- FIX: Author comments deleted in aspx/ascx files.
       The only thing that is obtained is to load the page in the client.
- FIX: Correct translation keys in Contacts module
- FIX: Warning in tabsettings for variable not used
by Mario Endara
- ENH/FIX: Localization fixed and added in Workflow and Discussion
- ENH: Update Spanish & Catalan resource files

1.4.0.1769d - 11/07/2004
by Manu
- ENH: Added build files for rebuild ecommerce using nant.
- FIX: Removed error on loading cursom teplates on tabs
- ENH: Minor speed gain with some tweak

1.4.0.1769d - 11/07/2004
by John Mandia (www.whitelightsolutions.com)
-ENH: Created a module based on the tab layout page. Module is not installed by default as I just built it 
      today and would like people the option on whether or not they want it installed. If you want to install 
      it go to adminall, go to the add module page and add the path to the module i.e. /DesktopModules/TabAdministration/install.xml
      This lets you drop tab administration on a single tab, multiple tabs or all tabs (by using the show on every tab option).
      It also allows you to create groups other than admin that have the right to add, move or delete modules on a current tab 
      (It also improves site administration by removing the number of clicks required).

1.4.0.1769c - 10/07/2004
by Thierry (www.tiptopweb.com.au)
- Fix: tab custom settings NOT static : this allows page custom theme and layout to work 
- ENH: Selection of Tab custom theme and layout by a dropdown menu instead of a textbox (like for page settings)
  (changes in PortalSettings, TabSettings, HttpUrlBuilder, Page)

1.4.0.1769b - 07/07/2004
by John Mandia (www.whitelightsolutions.com)
- Fix: Updated Esperantus No. in web.config to reflect the new dll
- ENH: Committed Marc BABIN's update to the french resource file.

1.4.0.1769a - 07/07/2004
by Jakob Hansen
- ENH: Module Documents: Added show/hide functionality for all columns.

1.4.0.1769 - 07/07/2004
by Manu
- FIX: SimpleMenu is now restored in rainbow.dll to avoid conflicts
       WARNING: PLEASE REMOVE MANUALLY Rainbow.Modules.SimpleMenu.dll from bin dir
- FIX: SimpleMenu default values were wrong.
- ENH: Refreshed clean install, now it is much more faster bacuse modules are installed only one.
       NOTE: Ecommerce modules are NOT installed by default, you have to manually install
- FIX: Refreshed documents install (on some installations did not update).

1.4.0.1768b - 05/07/2004
by José Viladiu <jviladiu@portalservices.net>
- FIX: EnhancedHTML Module: Changed SelectedValue for SelectedItem.Value in
       many places for compatibility with framework 1.0
- ENH: PortalSearch Module: Correct Support for EnhancedHTML Module
- ENH: Changed the order of load of the style sheet.
       This allows to apply dhtm effects when loading a tab.
- FIX: Monitoring Module - Correct error for large sites (Color limit is 12)
       Now colors is not limited. 
- FIX: Bug 976745 - ServiceItemList not work
- FIX: Corrections when ShowSecureLogon is true
- FIX: Render Mix/Max Buttons like the others buttons
- ENH: Spanish Language updated

1.4.0.1768a - 03/07/2004
by Ozan Sirin (ozan@rainbow.web.tr)
- ENH: Added new property ShowTabMan to HeaderMenu and its default value is false. 
  In order to use this feature, 'ShowTabMan="True"' should be added to HeaderMenu web control in DesktopPortalBanner.ascx file.
  If user logged in and member of Admins role, reach tab management just one click...
  Added new key HEADER_MANAGE_TAB to Rainbow.resx and also added 'ShowTabMan="True"' to HeaderMenu web control in MenuMS layout.

1.4.0.1768 - 03/07/2004
by John Mandia (www.whitelightsolutions.com)
-FIX: Bug 970471 - Error Deleting Survey module from a tab
-FIX: Bug 970273 - Error Deleting Milestones module from a tab
-CHANGE: Removed reference to Ecommerce & BankGateway Projects from Rainbow Solution (As it is an enhancement and not part of the core)

1.4.0.1767a - 03/07/2004
by John Mandia (www.whitelightsolutions.com)
- Added Module Developer Enhancement Contributed by: Geoff Groskreutz (www.versifit.com)
- Module Developers can now add custom buttons to the Module Title by calling ModuleTitle.CustomButtons.Add(customButton);
  customButton would be a System.Web.UI.WebControls.HyperLink control.

1.4.0.1767 - 02/07/2004
by Manu
- FIX: When installing module error is not shown
- ENH: Adden new configuration for compiling under 1.0
- FIX: A strange problem that hides language switcher when a language is selected
- ENH: Rb version module is now 15 times faster!
- ENH: DesktopModules/Version/RbVersion.aspx available for showing current version.
- ENH: Countries now are loaded from internal resources, if you need to reconstruct
       inner resources from db please see commented code in global.asax.cs
       This gives a gret speed on starting up since resource reading is far
       more faster than db.
- ENH: 20% faster than version 1766.
by José Viladiu <jviladiu@portalservices.net>
- ENH: New module EnhancedHTML, multilingual and multipage
- FIX: Documents Module: Create the directory for saving files.
- ENH/FIX: Documents Module : Add Image column depending of extension file. Correct support for save files in datatable.
by Mike Stone
- Fix: Module Tasks:  the Last Updated column was displaying the 
  CreatedDate field I have change it to display the ModifiedDate field. 
  The sort field name was also updated to ModifiedDate.

1.4.0.1766 - 26/06/2004
by John Bowen <rainbow@bowenweb.com>
- FIX: [ 874670 ] SITESETTINGS_REGISTER_TYPE in old Rainbow installations was numeric - converted to newer string values.  
- FIX: [ 764262 ] Issue when changing security role name

1.4.0.1765f - 23/06/2004
by Jakob Hansen
- ENH: Module SiteMap: Added setting ShowTabID to control which tab the map is displayed for.

1.4.0.1765e - 22/06/2004
by Mario Endara
- ENH/FIX: a lot of missed localization fixed and added.
- FIX: Some fixes for showing properly current theme

1.4.0.1765d - 15/06/2004
by José Viladiu
- ENH: Added control selector.cs for use language switcher like a rainbow control
- ENH: Added support for Catalan Language
- ENH: Spanish Language updated
by Andrea
- FIX: Fix for case sensitive, binary order instance databases.

1.4.0.1765c - 14/06/2004
by Cemil
- ENH: Added InnerException handling to Update.cs to display more detailed error messages when installing modules
- FIX: Newletter.ascx.cs, Shortcut.ascx.cs added HttpContext checking that was generating errors during install

1.4.0.1765b - 11/06/2004
by Manu
- ENH: Defined a FW11 constant in project for target Net Framework 1.1, if you convert project to 1.0
  you MUST change this configuration value as well either removing it or changing to FW10
  This has let me fix the XML warnings you get when compiling on version 1.1
- ENH: Updated Esperantus to version 1.4.0.1610. 
	Be aware this changed some method name in language switcher to be more conformant to FXCop rules..
	This may lead some problems is you used language switcher in your modules...
- FIX: Partial fix on sql scripts for supporting case sensitive db installations (only db creation, no modules: alpha stage). 

1.4.0.1765a - 08/06/2004
by Jakob Hansen (All coding done by Leo Duran)
- FIX in module Image. Removed double 'Border="0"' (illegal html tag) in file ImageModule.ascx.
    https://sourceforge.net/tracker/?func=detail&atid=515929&aid=966996&group_id=66837
-IFrame module
Fix:
	:Changed SettingsDataType of url to support relative url's..
	http://sourceforge.net/tracker/index.php?func=detail&aid=876984&group_id=66837&atid=515929

1.4.0.1765 - 07/06/2004
by [mario@hartmann.net]
-General
-Enh:
	:updated the SolpartMenu assembly and javascript to version 1.3.0.0
	:Added Rainbow.IOHelper file with Class GetFiles and CreatDirectory.
	:Added Rainbow.Helper.JavaScriptBuilder file and class.

-IFrame module
Fix:
	:Changed SettingsDataType of url to support relativ url's..
	http://sourceforge.net/tracker/index.php?func=detail&aid=876984&group_id=66837&atid=515929
Enh:
	:Added width attribute for the Iframe

-Flash module
Enh:
	:Changed flash movie control.
	:Now we are using a control with sourcecode available from Codeproject.
Fix:
	:Added Event Handler and function for deleting flash files.
	http://sourceforge.net/tracker/index.php?func=detail&aid=877885&group_id=66837&atid=515929
	
-SimpleMenu module
Enh:
	:Added dynamic loading of MenuTypes.
	:Removed SimpleMenu from RainbowCore and made it its own assembly and project.
	
-UserDefined Table
Fix:
	:Changed Stored Procedure, addded order by statement.
	http://sourceforge.net/tracker/index.php?func=detail&aid=833693&group_id=66837&atid=515929
Enh:
	:Added table column type picture, and some dropdownboxes for selecting already uploaded files and pictures.
	
-Milestones
Fix:
    :Added Viewstate=true to asp:datagrid
    http://sourceforge.net/tracker/index.php?func=detail&aid=922360&group_id=66837&atid=515929   
    
1.4.0.1764j - 06/06/2004
by Jakob Hansen (The fix was supplied by Rick Kreiselman/purpledragonfly and tested by mario@hartmann.net)
- FIX: Data sort order fixed for module UserDefinedTable in sproc rb_GetUserDefinedRow:
    https://sourceforge.net/tracker/?func=detail&atid=515929&aid=833693&group_id=66837

1.4.0.1764i - 06/06/2004
by Jakob Hansen (All issues are about the Tasks module - all coding done by Chris Farrell!)
- FIX: Fixed "Improper Identity Seed for ItemID in table rb_Tasks".
- FIX: TasksView.aspx was not wrapping Description field text.
- ENH: Added support for WYSIWYG HTML text editors for "descriptionfield".
- FIX: TasksView.aspx. Removed the "if(ItemID != 0)" block.  There was an
   improper coding of the Identity seed for ItemID so valid items might have a
   ItemID = 0. There is no reason that the TasksView.aspx page should not display 
   where ItemID = 0 so this helps offset the hassle of this bug for users who already 
   have data present.

1.4.0.1764h - 06/06/04
John Mandia (www.whitelightsolutions.com)
- Enhancement: Added a switch in rainbow.config "CheckForFilePermission" so that once you know file permissions are in place it will stop checking it in global.asax.cs (just set it to false).
- Enhancement:Created a friendly error page for when file permission is not available so you know straight away
- Enhancement: Introduced login facility for setup.aspx (Default password and username is admin admin...you can set this in the web.config file that resides in the setup folder).
- Please note newsletter and shortcut still fail in history.xml in scripts folder.

1.4.0.1764g - 05/06/2004
John Mandia (www.whitelightsolutions.com)
- Added Proposed Fix To Bug which caused setup page not to load when a database was new

NOTE: Please recompile the solution. Rainbow has been undergoing many changes and is currently not 100% stable. Please wait for a Release Candidate before replacing the code on your production Sites.

Warning: The setup script currently fails on fresh databases due to a few changes. To get it to run, strip out references to the newsletter module and shortcut module from the history.xml file. We are looking into it and hope to fix it soon.

1.4.0.1764f - 04/06/2004
by Manu
- FIX: After upgrading to new contacts some values can still be nulls.
    This fix allows you to edit contact created with the old version. 
	http://sourceforge.net/tracker/index.php?func=detail&aid=960169&group_id=66837&atid=515929
- FIX: Menu total height was wrong. This bug was included in last version and now it is fixed.

1.4.0.1764e - 03/06/2004
by Manu
- ENH: Nex Korean language file by Hoseop

1.4.0.1764c - 03/06/2004
by John Mandia(www.whitelightsolutions.com)
Fix: Bug In SQL Connection String Method in PortalSettings.

1.4.0.1764b - 03/06/2004
by Thierry
ECommerce in a private assembly:

  A project has been added to the Solution Rainbow.ECommerce as a private assembly
  The project is in the ECommerce directory (we do not want to move many files so we leave everything in place)
  Add a web share on /Ecommerce as /localhost/ECommerce for the project to open
  
  The /Secure directory has been moved as /ECommerce/Secure to avoid a second private assembly
  When making changes, Rainbow.ECommerce.dll has to be copied from /ECommerce/bin to /bin no other files need to be moved.
  
  NOTE: code for cart migration has been commented out in security.cs, this need to be fixed ! the cart will not be saved
  when the user logs in!

  - ItemNavigation.cs and ShopNavigation.cs moved in /UI/Webcontrols as also used by SimpleMenu module
  - ProductLayouts needs to reference Rainbow.ECommerce.dll instead of Rainbow.dll as a assembly
  - web.config : shipping object in the Rainbow.ECommerce.dll assembly

1.4.0.1764a - 01/06/2004
by Cemil
- FIX:  
	[ 860424 ] Shortcut for FAQ fails  

1.4.0.1764 - 01/06/2004
by Manu
- FIX:  
	http://sourceforge.net/tracker/index.php?func=detail&aid=962653&group_id=66837&atid=515929
- FIX: ItemID identity seed set to 0 instead of 1 (for new tables only)
	http://sourceforge.net/tracker/index.php?func=detail&aid=960526&group_id=66837&atid=515929

1.3.0.1763c - 30/05/2004
by John Mandia (www.whitelightsolutions.com)

- Fixed or Closed The Following Bugs:

[ 840945 ] &quot;Error&quot; in BabyBlue-Desktoplayout V1753a  
[ 915614 ] The META setting for keywords cannot be made blank (Now Meta Keywords And Meta Description are blank by default) 
[ 875797 ] Server.ClearError(); ??  
[ 789891 ] Security Bug with multi-portal db w/ singleuserbase  
[ 900851 ] '.' in the DefaultPortal name [not translated]  
[ 852405 ] Users with Add Permissions cannot add items to module.  
[ 956528 ] Using non existing Alias gives Access Denied instead of ... (Added Enhancement: Now it redirects to a friendly Html Page) 
[ 774735 ] Clicking 'Add New Role' twice will cause an error   
[ 868458 ] change Module Name  
[ 759161 ] erasing roles (Now a friendly message is shown when trying to erase a role that is linked to users) 
Unknown Bug: In Newsletter it used it's friendly name instead of it's GUID.

- Enhancements:

- Url Keywords Now Work (I know it's been a while :D but now when you add a url keyword on a tab it will show up in the url.
  Note: Portal Level Url Keyword has been removed (Otherwise it would involve a lot of checking for each url on the page). This feature makes use of caching to make it as fast as possible.

- Multiple Databases with a single source code. Now you can have multiple portals in a database with one source, single portal in a database with a single source, or multiple portals in multiple databases with a single source.
- This is a new feature so please log any problems on sourceforge.
- To have a second db, here is an example. 
  Customer www.mydomain.com wants their own database. 
  You Create A Database in SQL Server MyDomainDB. 
  You add the following setting to web.config: <add key="mydomain_ConnectionString" value="server=localhost;database=MyDomainDB;uid=sa;pwd=" />   
  It should take you to the setup page where you run the setup scripts (If it doesn't change the defaultportal setting in web.config to mydomain [if you have the settings strip www & .com]).
  If you do not enter mydomain_ConnectionString in web.config it will use the default ConnectionString setting.  

1.3.0.1763b - 28/05/2004
by Jakob Hansen
- FIX: Result table of PortalSearch, GoogleSearch and ServiceItemList now follow themes.
  A set of styles have been added to all css files (prefixed with Grid_). All these 
  styles still need to be set for each theme! (I have not done that...)
	https://sourceforge.net/tracker/?func=detail&atid=515929&aid=670781&group_id=66837
- FIX: Module Articles. These problems was fixed by Chris Farrell:
	BUG: Subtitle not shown.
	-Added subtitle field to Articles.ascx template(not shown if no subtitle provided)
	-Added subtitle field to ArticlesView.aspx template
	FIX: HTML tags in abstract do not work.
	-Removed HTMLText cast from Abstract in the OnUpdate function for both ItemId = 0 and not.
	 Now, both editor formats(line break) and HTML tags are stored and work fine.

1.3.0.1763a - 27/05/2004
by Manu
- FIX: Improved section 508 compliance in all standard themes and layouts.
- FIX: Fixed Menu to section 508 compliance.
- FIX: Upgraded Esperantus to Section 508 compliance.
- FIX: Signin to Section 508 compliance.
- FIX: IFrame to Section 508 compliance.
- FIX: HeaderImage to Section 508 compliance.
- FIX: Standard property page.

1.4.0.1763 - 24/05/2004
by Cemil
- FIX: renamed parameterEmail to parameterUserID in public Rainbow.Security.User Login
    and change the data type of @UserID from nvarchar to int in 1.4.0.1763.sql
	http://sourceforge.net/tracker/index.php?func=detail&aid=840691&group_id=66837&atid=515929

1.3.0.1762c - 24/05/2004
by Manu
- FIX: PortalSearch, Server.MapPath problem if module is moved
	http://sourceforge.net/tracker/index.php?func=detail&aid=899424&group_id=66837&atid=515929
- FIX: System.InvalidCastException when loading settings
	http://sourceforge.net/tracker/index.php?func=detail&aid=959445&group_id=66837&atid=515929
- FIX: Add Role during Add role
	http://sourceforge.net/tracker/index.php?func=detail&aid=828580&group_id=66837&atid=515929
- FIX: Bug installing new module containing child controls
	http://sourceforge.net/tracker/index.php?func=detail&aid=738670&group_id=66837&atid=515929
- ENH: ErrorHandler is more informative now.
- FIX: Better trapped errors on gateway loading.

1.3.0.1762b - 21/05/2004
by Manu
- FIX: Edit base settings fails
	http://sourceforge.net/tracker/index.php?func=detail&aid=957903&group_id=66837&atid=515929
- FIX: Custom theme css is not loaded

1.3.0.1762a - 20/05/2004
by Manu
- ENH: Some cleanup and enhance on error logging.

1.3.0.1762 - 19/05/2004
by Manu
- FIX: Workflow is not enabled problem fixed
	http://sourceforge.net/tracker/index.php?func=detail&aid=956616&group_id=66837&atid=515929
- ENH: Some changes on Contacts modules (see help for details)
- ENH: Some changes on Tasks modules (see help for details)
- ENH: Some changes on Documents modules (see help for details)
- FIX: Upload overwrite on Documents modules
	http://sourceforge.net/tracker/index.php?func=detail&aid=762484&group_id=66837&atid=515929

1.3.0.1761g - 18/05/2004
by Manu
- FIX: WebpathCombine when null value.
	http://sourceforge.net/tracker/index.php?func=detail&aid=902090&group_id=66837&atid=515929

1.3.0.1761f - 16/05/2004
by Manu
- ENH: Improved overall performance.
  Tweaked: 
  - PortalUrlDataType (cached request per single instance)
  - Layout manager (now it uses cache in the same way Theme Manager does)
  - SqlConnectionString in PortalSettings
  - Cached: Portal, Tabs and Module settings (now should be ok, cache is invalidated each update)
    A couple of methods were moved. Old are matained fo backward compatiblity.
    You may get some warning compiling your custom modules but should keep on working.
  - Esperantus tuning
  - other minor fixes
Average performance gain: 512 to 1640 pages served in 1 minute test

Removed legacy code on Loggin helper, now only Log4net is used
An optional sql logger is available on web.config

- Some minor cleanup

- Changed some of redirects to avoid ThreadAbortException
  http://support.microsoft.com/default.aspx?scid=kb;%5BLN%5D;312629


by Michel Barneveld Rainbow@MichelBarneveld.Com
- FIX: http://sourceforge.net/tracker/index.php?func=detail&aid=865254&group_id=66837&atid=515929
       states won't hide in Register page for stateless countries

1.3.0.1761e - 13/05/2004
IMPORTANT!!!!
This is the first relase in vs 2003 format.
As a result of a survey on mailing list 99% of developers use vs 2003
The default framework now is 1.1
You can still use 1.0 and VS 2002
http://www.codeproject.com/macro/openvc.asp

NOTE 2:
Wit version 1.1 some xml warning arise.
I cannot fix them without broking compatiblit with v.1.0
Regard xml warnings see this post:
http://www.gotdotnet.com/community/messageboard/Thread.aspx?id=145360
It is not ranbow but the problem is the same

NOTE 3:
I have marked as obsolete some loggin code.
Right now ignore the warning.
In future the code may be removed.

by Manu
- FIX: http://sourceforge.net/tracker/index.php?func=detail&aid=945539&group_id=66837&atid=515929
	   Security check on print this window
- FIX: BaseDataType.InitializeComponents
       changed maxlenght value default to 256 since most of settings are string saved on TabSetting, ModuleSettings, PortalSettings
- FIX: Procedure 'rb_AddTab' expects parameter '@TabName', which was not supplied. 
	http://sourceforge.net/tracker/index.php?func=detail&aid=769727&group_id=66837&atid=515929
- FIX: In the methode GetTermsOfService() from Portalsettings.cs the Streamreader is not closed after using.
	http://sourceforge.net/tracker/index.php?func=detail&aid=852446&group_id=66837&atid=515929
- FIX: Fixed a bug on Execute script helper where a defult connection was used insted of provided one

by Joerg Szepan - jszepan
- FIX: Wrong Terms-File if Dot in Mappath 
	http://sourceforge.net/tracker/index.php?func=detail&aid=852071&group_id=66837&atid=515929
- FIX: Umlaute in Terms.txt not read into Streamreader 
	http://sourceforge.net/tracker/index.php?func=detail&aid=852510&group_id=66837&atid=515929

1.3.0.1761d - 02/05/2004
by Jakob Hansen
- ENH: Update resource file Rainbow.nl-BE.resx (Belgian). Translation done by Rob (support@streamid.be)

1.3.0.1761c - 22/04/2004
by Manu
- FIX: Small change on Links module. Now you can customize appearance using themes.
       The previos version has some bugs tha are now fixed.
       To change Link bulltet in non edit mode simply add an image to current Theme callled "Navlink"
       See "Duemetri" theme for a working example

1.3.0.1761b - 11/04/2004
by Jakob Hansen
- FIX: Module Blog. Fixed problem with uninstall Reported by Chris F. File uninstall.sql was updated.

1.3.0.1761 - 07/04/2004
by Manu
- FIX: Module Discussion. Now the fix is applied ;).
- FIX: Another security minor issue fixed on module view.
- FIX: AddEdit page, more relaxed setting: now ony one of them is needed.
- FIX: If an error occurs in search the offending SQL is logged, a small error is shown on screen.
- FIX: Set to 50 the limit of results per module in serach, this avoids tons of data as result.
- FIX: 3 the minium size of a searched string.
- ENH: New favicon.
- ENH: Small change on Links module. Now you can customize appearance using themes and css.

1.3.0.1760e - 03/04/2004
by Jakob Hansen
- FIX: Module Discussion. Now child messages messages will be displyed correctly:
  Changed line in sproc rb_DiscussionAddMessage in file install.sql to 
  "SET @ParentDisplayOrder = ''" instead of "SET @ParentDisplayOrder = 'a'".

1.3.0.1760d - 03/04/2004
by Jakob Hansen (Tim Capps)
- ENH: Module Pictures. Added bulk load for jpg files (new module setting 
  named "AllowBulkLoad"). All code was done by Tim Capps, tim@cappsnet.com. 
  Note: No database change for this enhancement. These 3 files are updated:
  Pictures.ascx.cs, PicturesEdit.aspx and PicturesEdit.aspx.cs.

1.3.0.1760c - 31/03/2004
by Manu
- FIX: IMPORTANT SECURITY UPDATE.
       An important fix was made to avoid that a maliciuos use can access your admin protected pages.
       All users should upgrade to this version.       

1.3.0.1760b - 18/03/2004
by Manu
- ENH: Improved custom registration modules. 
       In the old way custom pages cannot have custom settings.

       Current way to add register module (still ok)
       - You must place you custom page in DesktopModules\Register folder
       - Your custom page must be control named Register<....>.ascx (start with Register word)
       - Your control must implement IEditUserProfile interface
       - Your control may or may not be compiled with Rainbow (it can be in its own dll)
       - On Portalsettings select you control from the menu.
       
       Using custom settings:
       - You must register your control as a standard module
       - Add it to a page (hidden usually)
       - Change your settings
       - Record the module number (mid in querystring in property page)
       - On Portalsettings fill the Register module ID box with the number.

1.3.0.1760a - 13/03/2004
by Jakob Hansen
- ENH: Added Bulgarian string resource file Rainbow.bg.resx in folder Resources.
       The translation is done by Alex Campbell (alex@campbellgroup.net)

1.3.0.1760 - 10/03/2004
by Manu
- FIX: Better null check getting languages from db. Avoid loggin error.
- FIX: Ecommerce option check, fixed null reference error (many places).
- FIX: Ecommerce, more logging.
- FIX: Ecommerce, provided a default for Secure dir tied to current portal, 
       web.config value commented out.
- FIX: Ecommerce, now product checkout links use weburlbuilder.
- FIX: Refreshed Ecommerce settings and Merchant Manager.
- FIX: PortalSettings, get languages null reference.
- FIX: Better error management in XslHelper.
- FIX: Removed warn on Default location not present for XSLTFile
- FIX: Null exception value on WebPathCombine fixed.
       This solves an error occourred on creating a new portal.
- FIX: TextBox editor now follows themes. This fixes problems with custom embedded fonts.
- FIX: Register pages does not correctly logons a newly created user so current
       user information are not available until user logs off and logs on again,
       now it uses the same code used by login page.

1.3.0.1759a - 03/03/2004
by jakob
- ENH: Added OneFileKitModule C# example: ExcelReader.

1.3.0.1759 - 03/03/2004
by jakob
- FIX: PortalSearch problem caused by Blog module fixed. I removed all "COLLATION"
       from SQL scripts and renamed "Abstract" to "Excerpt" in SearchSqlSelect().

1.3.0.1758d - 27/02/2004
by Manu
- FIX: New tab sometimes gets error
- FIX: Add new portal. More consistent with framework. 
       Fixed add button that in some circumstances disappeared.
- FIX: Roles control, fixed localization on Add role button. 
- FIX: Sendnewsletter was not retrieved correctly in RegisterFull page.
- FIX: Changed ApplicationPhisicalPath
- FIX: Added more troubleshooting writes to log file

1.3.0.1758c - 13/02/2004
by Manu
- Upgraded HWMenu to version 1735:
	1.0.0.1335 - 13/02/2004
	- Now div size is correct and works with any child number.
	- Width is correct
	- 1x1 image now is loaded from scripts directory
- FIX: Now the height of menu item is loaded from menu height 
	  (the height is the height of a single row not the height of the menu).

1.3.0.1758b - 23/02/2004
by Thierry (Tiptopweb)
- FIX: install from an empty Rainbow DB is now working (building DB from v1111 to v1758)
  ECommerce module install.sql : rb_CartRemoveAllItems is used in rb_AddOrderDetails, the order of the 2 stored proc has been inverted

1.3.0.1758a - 23/02/2004
by Jakob Hansen
- FIX: Outcommented Italien Web.config keys in BankGateways: Carige, Telepay and SellaCripto.
- Note that there are a problem with installing this version. A quick fix is to
  outcommnent all ecommerce code in the history.xml file and add the missing
  sproc that is used by the login code. (I forgot the name of the sproc...)

1.3.0.1758 - 18/02/2004
by Jakob Hansen
- ENH: Added Blog module (All code done by Joe Audette)

1.3.0.1757f - 12/02/2004
by Manu
- ENH: Moved WebPathCombine to HttpUrlBuilder class
- FIX: Used WebPathCombine method to fix path on HeaderImage
       Now all images are expected in private portal directory.

1.3.0.1757e - 11/02/2004
by Manu
- FIX: New WebPathCombine method in ThemeManager. Changed all web paths concateneation for using new method.
- FIX: Custom theme where duplicate in the drop down list.
- FIX: Opera browser recognized as mobile.

1.3.0.1757d - 03/02/2004
by Thierry (Tiptopweb)
- FIX: Custom theme for a page was always returning the Alt theme (instead of Default) (PortalSettings.cs)
	http://sourceforge.net/tracker/index.php?func=detail&aid=872588&group_id=66837&atid=515929
	http://sourceforge.net/tracker/index.php?func=detail&aid=861331&group_id=66837&atid=515929
	
1.3.0.1757c - 31/01/2004
by Manu
- FIX: Minor fix on search: now empty topics are ignored
- FIX: Theme from portal dir now uses correct path.

1.3.0.1757b - 29/01/2004
by Manu
- Improved Portal Search - Added topic functionality
  see PortalSearch readme.txt in portalsearch details for more information
- Cleanup some wrong xml tags

1.3.0.1757 - 14/01/2004
by Bostjan Kezmah/bkezmah@hotmail.com  (code tested and added to CVS by Jakob Hansen)
- Localized 4 modules: Documents, HtmlDocument, PortalSearch, UserDefinedTable.
  Note that also Rainbow.resx, Rainbow.da.resx, Rainbow.sl.resx has been updated!
  New keys in this release: see file NewKeysIn1757.txt (ready to paste into the Rainbow.??.resx file)

1.3.0.1756a - 26/12/2003
by Jakob Hansen
- Did more translations and cleaned up file Rainbow.da.resx

1.3.0.1756 - 18/11/2003
by Manu
- Improved new portal creation. Now Modules are referenced by GUID an not by name
  This allows module rename (at least for new portal creation!)
- Managed System.Threading.ThreadAbortException on page RedirectBackToReferringPage()

1.3.0.1755b - 18/11/2003
- Included FAQs changes by Chris Farrell [chris@cftechconsulting.com]
by Manu
- Fixed a bug that failed to install XMLfeed on root portals (with JMandia help)
- Fixed Survey install script (rb_AddSurveyAnswer was not removed before creation)
- Fixed Contact module installation (falied if table exists)
- More info logged
- New Images updated by Anne DUEMETRI 

1.3.0.1755 - 17/11/2003
(1.3.0.1754 has been removed)
by Kelsey and Thierry
- ENH: ECOMMERCE: add options to the products (to have options, edit a product and add them)
  The shopping cart has been modified to handle options and also the checkout process
  The install.sql script has also modified for the product module (fix by Joerg Szepan for the script)
  note: for new DB field metadataxml: using nvarchar as xml string (options) and not ntext has ntext does not support comparisons in stored procedures

1.3.0.1753b - 6/11/2003
by Manu
- FIX: Register path fix for ecommerce on root dir.
- FIX: Restored viewstate in RegisterFull.asxp - State field. Now state saves again.
- FIX: A small bug in DBhelper, execute with transaction.
- FIX: Page.cs: now we can specifiy a text other than default on cancel button.

1.3.0.1753a - 4/11/2003
by Manu
- FIX: Setup path for modules when rainbow installed in webroot. 
       This should fix "Could not find a part of the path... " error.
- FIX: Nat now builds smmothly all the resources (you need 8.3 version)
       See Nant.txt for details.

1.3.0.1753 - 4/11/2003
by Manu
- FIX: Installed PageKeyPhrase module for updates as well
- FIX: Restored Solutions tables
- FIX: Fixed a couple of issues on ecommerce related on a clean install
- FIX: Setup.cs.aspx: On clean intall it executed wrong scripts.

1.3.0.1752 - 4/11/2003
by Manu
- ENH: ECOMMERCE: New Module for editing Merchant Data Table.
       Right now you had to insert it manually on db.
       Metadata XML must contain data like this:
       <Metadata CreditInstitute="MyBank" BankCode="11222" FaxNumber="0005555-000000"/>
       All properties should be supported by the choosed gateway.
       Unknown properties are ignored. Missing required properties will throw an error on checkout.
       Refer to gateway/shipping documentation for a list of valid properties.
       Known Limit: Even if the MarchantManager table has a Portal ID the module does changes site wide. 
- ENH: ECOMMERCE: Gateway and Shipping selection is made trough a nice drop down list.

1.3.0.1751b - 4/11/2003
by john.mandia@whitelightsolutions.com
- Fix: Country Drop Down is now in correct aplhabetical order on RegisterFull, E-Commerce Page and On Site Settings (Thank you Manu for updating Esperantus :D to allow sorting)
       http://sourceforge.net/tracker/index.php?func=detail&aid=759955&group_id=66837&atid=515929
- Fix: On fresh Db builds country list now appears (I have updated the localize script to include rb_Localize info)
       http://sourceforge.net/tracker/?func=detail&aid=833603&group_id=66837&atid=515929
- Minor Fix: Commented out an entry in Country script (Country TP entry) as it didn't have any values and caused a blank entry to appear in the country drop down menu.
- Fix: Bad BankGateway.dll reference (This should now be fixed)
       http://sourceforge.net/tracker/index.php?func=detail&aid=833251&group_id=66837&atid=515929
- Bug Closed: PortalSecurity.Security - Access Denied throws errors (This has been resolved via the error handler...if you see the access denied error instead of the friendly page please check web.config settings (you may be browsing locally)
       http://sourceforge.net/tracker/index.php?func=detail&aid=791976&group_id=66837&atid=515929
- Bug Closed: Query Strings Corrupted by URL Rewriting

       If you wish to pass query strings to a module on DesktopDefault.aspx please Use the urlbuilder and pass the values via customAttributes e.g. customAttributes = "CustomerID=44" or for 
       multiple values: customAttributes would equal "CustomerID=44/ParentCompanyID=1/ThirdOption=This". 

       If you are passing querystrings to a custom page....e.g. from a module to customfolder/mycustompage.aspx then still use urlbuilder to pass this custom url. You pass it as tagetPage to url builder e.g. "~/customfolder/custompage.aspx" The "/" in the targerpage 
       will let UrlBuilder know that it is not DesktopDefault and will build the url appropriately.
       To pass a querystring to this targetpage please still use customAttributes with the same format e.g. 1 querystring would be "CustomerID=44" and two would be "CustomerID=44/ParentCompanyID=1" and three would be "CustomerID=44/ParentCompanyID=1/ThirdOption=This".
       
       http://sourceforge.net/tracker/index.php?func=detail&aid=827537&group_id=66837&atid=515929
- ENH: Another HeaderMenu enhancement. I noticed that this control binds oninit which is great because you simply drop it on a page and set the properties. However if you wish to use it in a module, your settings (Via the property page) will never
       be applied as it takes either the settings hardcoded or the defaults. I added an extra property DataBindOnInit and moved the binding code from OnInit to DataBind (but kept a call to DataBind within OnInit). This property lets you simply say DataBindOnInit=false (true is the default) when you add it to your module (Then in the module's codebehind file you can call DataBind() after your custom settings have been applied. 
       So now you can decide if you wish it to bind automatically or when you call DataBind().  
-Note: For those of you creating a fresh db I recommend waiting for Manu's additions to the solutions bug (related tables & sps are not in new db's and will create an error when you try to add a new portal). Please rebuild the solution to ensure that you have the correct dlls (Mine are .Net 1.1).

1.3.0.1751a - 1/11/2003
by john.mandia@whitelightsolutions.com
- Fix: After allow no new registrations is ticked people could not edit their profile
       http://sourceforge.net/tracker/?func=detail&aid=799945&group_id=66837&atid=515929
- ENH: Made TabKeyPhrase Setting Localized and Created a TabKeyPhrase Module so users can add it to certain tabs or show on all tabs (via the property setting).
       Added it's entry in the xml file so it is installed on fresh builds (Please install it via admin all if you are using a current version).
- ENH: Added rb_PageKeyPhrase to all theme's css file (To control the format of the keyphrase. Entry currently empty).
- Fix: Fixed minor bug on baby blue theme
- Fix: Minor fix on DiscussionEdit.aspx (Added runat=server tag to HEAD)
- Fix: Rose background in FreeTextBox
       http://sourceforge.net/tracker/?func=detail&aid=833256&group_id=66837&atid=515929
- Fix: Minor fixes in Blacklist_Install.sql and Newsletter_install.sql, plus some of the other setup scripts to reflect new TabID naming convention
- Fix: Fixed bug which would cause register page to fail on a freshly created database (Edit Profile or Register would fail unless you updated SiteSettings first).
       http://sourceforge.net/tracker/?func=detail&aid=833610&group_id=66837&atid=515929
- ENH: Enhanced Header Menu so that you now have more control (Can additionally control visibility of Edit Profile Link, Welcome, LogOff and Save Desktop.
- ENH: Now each portal can have it's own personalised favicon.ico file (Before every portal shared the root one). Just upload your custom favicon to the root of the portal's custom folder e.g. _Rainbow
- Fix: Bug where state would continue to show even if the country had no states. E.g. selecting Italy would show a second dropdown menu (State). If you then selected United Kingdom you would still see the Italian state dropdown which was confusing for users.It now gets hidden if no states are available.
- Temp Bug/Fix: Currently countries do not show on register full and site settings if you create a fresh db. This is because the Localize table is not populated. 
                As a temporary fix you can transfer the data from the Localize table on an old (upgraded) rainbow db to the freshly installed one. Or you can look at setup script 1.2.8.1505_02.sql; part of it populates the Localize table [please only run the relevant part].
                Only do this as an urgent fix as an official one should be released soon. 
-Note: Since I run on .Net 1.1 please recompile the dlls ;-)

1.3.0.1751 - 30/10/2003
by Manu
- FIX: String or Binary Data would be truncated
  http://sourceforge.net/tracker/index.php?func=detail&aid=821928&group_id=66837&atid=515929
by Bill Anderson (reedtek)
- FIX: GetPicturesPaged does not close DataReader
  http://sourceforge.net/tracker/index.php?func=detail&aid=828584&group_id=66837&atid=515929

1.3.0.1750a - 30/10/2003
by Manu
- Moved Bank Gateway management to a separate project (available on cvs as well)
  Note that I have updated web.config to reflect dll change:
	<BankGateways>
		<!-- key must match the Name property of the gateway.  value="FullClass with namespace,Assembly" -->
		<add key="CreditTransfer" value="Rainbow.ECommerce.GatewayCreditTransfer,DUEMETRI.Rainbow.ECommerce.BankGateway.dll" />
	</BankGateways>
- FIX: Wrong entry und Culture settings will crash system
  http://sourceforge.net/tracker/index.php?func=detail&aid=821922&group_id=66837&atid=515929
  If an invalid language is set the system defaults to en-US. Got to admin page and fix the error to have you languages again.
- FIX: AllowNewRegistrations.Description spelling error
  http://sourceforge.net/tracker/index.php?func=detail&aid=829438&group_id=66837&atid=515929
  Fixed in code an in all translations

1.3.0.1750 - 29/10/2003
by Manu
- Now I use log4net for loaggin/debug actions, new settings on web.config
- clean install without pass trought all updates
- All modules have they own install (even if admin)
- Clean installation is done by each module's individual script?
- I have fixed some mistakes in current individual install and completed missing one
- One minor change that can have a deep impact anyway, I tried to make all names consistent across rb
  We have a lot of mixed cases and I hope now only few are left... The bigger trouble was with Id
  sometimes written ID, ID id.... so I have changed all in a consistent way
  Pascal or CamelCase (public or private) for all, code and procedures: PortalID, TabID, and so on
  No problem for db, but some properties name are changed. 
  Nothing too bad... recompile and fix some case and should be enough for custom modules. 
  Core modules are ok...
- FIX: Fixed an issues with Ecommerce when USD was choosed as currency
  http://sourceforge.net/tracker/index.php?func=detail&aid=816080&group_id=66837&atid=515929
- FIX: User Defined Table edit doesn't edit.
  http://sourceforge.net/tracker/index.php?func=detail&aid=753551&group_id=66837&atid=515929
- FIX: Added explicit support to upload size
  http://sourceforge.net/tracker/index.php?func=detail&aid=814853&group_id=66837&atid=515929
- FIX: Shortcut-Module / null reference errror
  http://sourceforge.net/tracker/index.php?func=detail&aid=812966&group_id=66837&atid=515929
- Updated: tr, sv, it languages
by Mike (mstone@kaskaskia.edu)
- FIX: The BabyBlue layout was not putting the correct background image in two table cells, 
  which caused a bad color to be displayed.

1.2.8.1745 - 25/09/2003
by Thierry (thierry@tiptopweb.com.au)
- FIX: user administration, bug causing deletion of registered users
  in the 'Manage User' module loading 'RegisterFull.ascx', if we edit one user and
  then edit another user, the first user is deleted from the database.
  tricky effect of default parameter in rb_UpdateUserFull: set it in the code (RegisterFull.ascx.cs) 
  instead of relying on SQL stored proc
- FIX: when deleting a role already assigned to some users, there is an exception
  modify rb_DeleteRole so that is removed the role for the users first and then remove the role.

1.2.8.1744a - 16/10/2003
by Manu
Setup/Update.asp script UPDATED
- FIX: Runtime error when installing modules in update.aspx.cs
- FIX: Running order of update scripts. 
  If you have multiple scripts for the same version please read the note:
  The version are automatically sorted at runtime so you must remember to increment 
  the <Version> as well. It is a string value so you may simply append an alpha letter.
  If the Ids are equals the versions are compared.
  Note that this is a defferen behavior then before, where order was based on script name.
  This was necessary because the script name can be omitted now.
- ENH: no more need to run a separate procedure on db. Simple do a clean db and run rainbow.
- ENH: setup.bat does not apply the rbversion script anymore (moved to code)
- ENH: Setup scripts are in a scrollable window now
- FIX: A couple of datareader not closed.

1.2.8.1744 - 13/10/2003
by Manu
- FIX: Setup/Update.asp: autoadd version wrong date exception fixed.
- FIX: Documents dir instead of Document dir.
- FIX: Breadcrumb behave strangely with localized item
       http://sourceforge.net/tracker/index.php?func=detail&aid=776085&group_id=66837&atid=515929
- FIX: Enlarged country list in portalsettings.
       http://sourceforge.net/tracker/index.php?func=detail&aid=761662&group_id=66837&atid=515929
- FIX: SqlDataReader's used in Rainbow are not closed
       http://sourceforge.net/tracker/index.php?func=detail&aid=807858&group_id=66837&atid=515929
       I have spent a lot of time reviewing all code. I hope I had made no mistakes (sometimes
       I had to change the program itself to make it working).
       For all developers: please be careful and close all datareader you use, either after
       reading and after DataBinding(). http://www.dotnet247.com/247reference/msgs/4/24934.aspx
       I hope have not missed one. I have fixed 52 issues in 34 different files.
       Please let me know if some was left or if the new code behaves strangley.
- by Onur Esnaf
  FIX: Fixed localization in sub-tabs
       http://sourceforge.net/tracker/index.php?func=detail&aid=784003&group_id=66837&atid=515929
       http://sourceforge.net/tracker/index.php?func=detail&aid=766786&group_id=66837&atid=515929

1.2.8.1743b - 09/10/2003
- by Mike Stone
  EHN: The signin module has a new setting. "Allow IE Autocomplete" If you uncheck this setting 
  IE will not remember user name and passwords. 
  Note that users who have memorized passwords will not be effected until their computer is reset, 
  only new users and/or computers will honor this. 
- Fixed Nant buildfile by Manu
- Updated es resource file by José Viladiu

1.2.8.1743 - 09/10/2003
by Manu
Setup/Update.asp script UPDATED
- New features in update code:
- Version in script is now optional. Update runs a script against db for include the
  current version entry. You need manually insert version only if you skip install.
- Script version is checked against code before each run. 
  This means that you can update many versions with the same script. 
  Very useful if you want update the initial script that creates the db.
  Scenario: 
  You want provide a convenient way for your users for apply updates and you want
  provide a fresh installation script that just do all with few instructions.
  You do two scripts.
  One, named eg: 1.1.7.0000.sql that creates db structure updated to 1734. 
  The last row must contain something like:
  INSERT INTO [rb_Versions] ([Release],[Version],[ReleaseDate]) VALUES('1734','1.2.8.1734', CONVERT(datetime, '09/11/2003', 101))
  GO
  
  One or more scripts as usual for updating existing versions.
  At runtime on clean machine present the list of ALL scripts.
  Then the 1.1.7.0000.sql runs and updates the version. At this point the row updates tha version.
  When setup go to next script it see that this does not need any update and skips it.
  On more recent systems (eg: 1730) all updates are run.  
  
- You can now include modules in a single installation. This is great because
  we can easily move the code for modules on the module itself. No more need for
  refreshing db settings as in 1.2.8.1742.
  Please note in the sample below that in version 1.2.8.1743 we can even omit the script
  and install only modules. 
  
  New syntax:
  	<Release>
		<ID>1742</ID>
		<Version>1.2.8.1742</Version>
		<Script>1.2.8.1742.sql</Script>
		<Date>2003-10-08T00:00:00.0000000+01:00</Date>
	</Release>
	<Release>
		<ID>1743</ID>
		<Version>1.2.8.1743</Version>
		<Date>2003-10-08T00:00:00.0000000+01:00</Date>
		<Modules>
			<Installer>DesktopModules/XmlModule/installer.xml</Installer>
			<Installer>DesktopModules/Pictures/installer.xml</Installer>
		</Modules>
	</Release>
 
  If present sql script is always run BEFORE installing modules.
  You can make however 2 entries for the same version.
  Sample:
  
	<!-- This section is run before -->
	<Release>
		<ID>1555</ID>
		<Version>1.2.8.1555</Version>
		<Date>2003-10-08T00:00:00.0000000+01:00</Date>
		<Script>1.2.8.1555_before.sql</Script>
		<Modules>
			<Installer>DesktopModules/XmlModule/installer.xml</Installer>
			<Installer>DesktopModules/Pictures/installer.xml</Installer>
		</Modules>
	</Release>
	<!-- This script will be run AFTER MODULE installation -->
  	<Release>
		<ID>1555</ID>
		<Version>1.2.8.1555a</Version>
		<Script>1.2.8.1555_after.sql</Script>
		<Date>2003-10-08T00:00:00.0000000+01:00</Date>
	</Release>

  Anyway the version are automatically sorted at runtime so
  you must remember to increment the <Version> as well. It is a string value 
  so you may simply append an alpha letter. If the Ids are equals the versions are compared.
  Note that this is a defferen behavior then before, where order was based on script name.
  This was necessary because the script name can be omitted now.
  
  Other changes:
  - Added EmptyModule template on Desktopmodules (not on project)
  Use it as base for you own modules-
  - Minor bug fix in Install Module code.  

1.2.8.1742a - 08/10/2003
by Manu
- MOVED: workflow releated files in Workflow directory
- FIX: Links module missing intallation files
- FIX: HTML Document module missing intallation files
- MOVED: ImageModule
- Overall cleanup on project (adding removing files to project)
- Linked Scheduler as DLL and removed project from slution (still available on cvs)

1.2.8.1742 - 08/10/2003
by mario@hartmann.net
- MOVED: PortalSearch
- MOVED: HTML Document
- MOVED: Documents
- MOVED: SingIn, SignInCool, SignInLink
- MOVED: Pictures
- MOVED: Register, RegisterFull
- FIX: 	 Discussion EditUrl
- ENH:   The List of Register-types are loaded from the folder 'DesktopModules/Register'.
	 All files which fulfil the condition  >>Register*.ascx<< are loaded. 
	 At this time there are the Register and RegisterFull available.

1.2.8.1741 - 07/10/2003
by John Mandia (www.whitelightsolutions.com)
- MOVED: XmlModule,XmlLang and Version into a seperate folder
- Fix: Fixed sales.xsl so that it works with XmlLang again.

1.2.8.1740 - 07/10/2003
by Manu: 
- MOVED: Newsletter and Blacklist module to separate folder
- FIX: extra breaks (<br>) added in Newsletter when in HTML MODE.
- FIX: User page is loaded as simple even if it is marked as full 
       in Portalsetting. SettingName mispelled in User edit page.
       http://sourceforge.net/tracker/index.php?func=detail&aid=819113&group_id=66837&atid=515929
- FIX: 'GetTabSettings' routine -- wrong paramter type to MS-SQL (by Bill Anderson (reedtek))
       http://sourceforge.net/tracker/index.php?func=detail&aid=813789&group_id=66837&atid=515929

1.2.8.1739 - 05/10/2003
by mario@hartmann.net
- MOVED: Events module to separate folder
- MOVED: Contacts module to separate folder
- FIX: add hiding possibility for email, contact1 and contact2 column in Contacts module
- FIX: add SolPart menu (Sollution Partners) and and new DesktopLayout 'MenuMSSolpart' to Rainbow
       this resolves a bug tha prevents a menu to be displayed more than once 
       in a single page and improves fexibility
- FIX: add horizontal alignment and SolPart menu to module 'SimpleMenu'
- FIX: serverside html tag rendering in various pages
by Manu: 
- FIX: Minor bug fixing in install scripts and cleaning up

1.2.8.1738a - 30/09/2003
by Manu: 
  fixed discussion paths (thanks Marc for pointing me out this)

1.2.8.1738 - 26/09/2003
by Manu
- MOVED: Discussion module to seperate folder
- FIX: Minor bug fixing

1.2.8.1737b - 24/09/2003
by Thierry: ECommerce Checkout
- FIX: ProductCheckout.aspx.cs: setting (key = country filter) updated according to 1.2.8.1734,
  this was breaking the checkout

1.2.8.1737a - 15/09/2003
by Manu:
- FIX: Enlarged url field in links from 250 to 800
  http://sourceforge.net/tracker/index.php?func=detail&aid=783505&group_id=66837&atid=515929
- ENH: I'm tired to search for changeowner script so I have included in distribution.
  Call rb_ChangeObjectOwner <new owner name> default = dbo.
- FIX: Events do not sort by date
  http://sourceforge.net/tracker/index.php?func=detail&aid=798993&group_id=66837&atid=515929
- Upgraded Free TextBox to 1.6.3.26073
- Free TextBox is now the default HTML editor.
- FIX: Print.aspx does not throw errors if you do not pass a ModID
by Jason Kergosien
- With this fix, the module will hide itself when you log in. Both Signin and SigniCool
  If you want disable it there is a setting that let you do it.

1.2.8.1736f - 15/09/2003
by John Mandia (www.whitelightsolutions.com)
- ENH: Rewrote HttpHandler and Updated UrlBuilder
       Rainbow now uses the Rewrite.Net Engine as the Handler which allows you to build custom rules (two rules are included)
       One rule supports legacy urls and the other supports the new urls. The urlbuilder now has better support for module developers to pass attributes and it fixes UrlScan issues.
       The Rainbow Rules project has been added to cvs. Please read urlhandler_readme.txt
by Manu:
- FIX: The code is no SLOW anymore in TabStripDetails 
       (my friend and beta tester Cory reported a 20 x performance improvement in his local intranet)
by Manu:
- ENH: Added KickStarter support
	- KickStarter dir
	- IEditModule.cs
	- AddEditPage.aspx
	This is preliminary support and may be changed in future, I'm working with
	Mike to make this possible. This does not affect in any way exisiting modules.
	Please do note rely on these classes as these will almost surely changed infuture.
by Manu:
- FIX: Specified cast is not valid error in LinksEdit module.

1.2.8.1736e - 15/09/2003
by Cory Isakson
- added overrides for WebCompile Feature

1.2.8.1736d - 17/09/2003
by Thierry (thierry@tiptopweb.com.au)
- FIXED: E-Commerce product module
  from Mario (thanks!)
  problem was: some redirections to the home page from a category without using the url handler
  in itemnavigation.cs replace Default.aspx by DesktopDefault.aspx as we are loosing the form parameters
  with the server transfer from Default.aspx to DesktopDefault.aspx and not using the UrlBuilder
- FIXED: E-Commerce product module
  paging of products is now working (like the picture album)

1.2.8.1736c - 16/09/2003
by Thierry (thierry@tiptopweb.com.au)
- FIXED : ECommerce-Product module is now working WITHOUT the url builder
  (it was redirecting to the home page for any action)
  you need to replace in all your DesktopLayout for a shop : shopnavigation (shopnavigatio.cs) control
  by itemnavigation control (itemnavigation.cs). itemnavigation derives from menunavigation
  but the navigation will not be effective and instead we navigate to the same page
  and transmit the tabID as a ItemID (the category of products)
  file shopnavigation.cs has been removed from CVS, itemnavigation.cs moved to ECommerce/UI
  Apology to Mario (who did this good code coding) and all:  I did not realised the change was not in the layout
  last minute : there are still some redirections to the home page from a category without using the url handler
  
1.2.8.1736B - 15/09/2003
cory isakson, added overrides for WebCompile Feature

1.2.8.1736a - 12/09/2003
by Thierry (thierry@tiptopweb.com.au)
- added all files from mario@hartmann.net to project (see below)
  also modified history.xml to take new script 1736
- FIXED: Product module rewritten to use events instead of redirections (the dot net way), 
  this should make it work with framework 1.1
  as there is no more parameters to decode from the command line beside the usual tabID and ItemID
- ENH: added webcontrols ProductAddToCart, ProductImageGoToDetails and ProductLinkGoToDetails to be
  used in /Design/ProductLayouts
  This controls are raising custom events that BUBBLE to this product.ascx control (see OnBubbleEvent)
- NOTE: the ProductAddToCart will NOT work if used in DefaultProductView.ascx
  it has been added as a LinkButton with an event handler at the bottom of the html page and is
  displayed when displaying a product details
- NOTE: look at the ProductLayouts\DefaultProductLayoutView.ascx and DefaultThumbnailView.ascx
  for an example of how to use the new custom controls, you will need to modify your Layouts the same way

1.2.8.1736 - 11/09/2003
by mario@hartmann.net
- MOVED: Articles and Announcements module in seperate folder
- FIXED: Path to helperfiles in the FreeTextBox added		

1.2.8.1735 - 11/09/2003
by Jakob Hansen 
- FIX: rainbowportal-Bugs-791364: search module broken for case 'all'. See file 1.2.8.1735.sql.

1.2.8.1734e - 11/09/2003
by Jakob Hansen 
- FIX: rainbowportal-Bugs-777089: Weather US Module Not Displaying Radar

1.2.8.1734d - 09/09/2003
by Jakob Hansen 
- FIX: All 5 DBPatch.sql for OneFileModuleKit works correctly now (both C# and VB.NET examples)

1.2.8.1734c - 03/09/2003
- CLEANUP: Removed unused legacy files in security dir: SignInLocation.cs, SignInPosition.cs, SignInType.cs
- FIX:  yiming, 18 Aug 2003, get layout from portalWebPath, if no, then WebPath

1.2.8.1734b - 28/08/2003
by Cory Isakson (cisakson@yahoo.com)
- ENH: Added the WebCompile DataType and modified global.asax.cs to implement it
	Users will notice that on first run a site now pre-compiles all pages

1.2.8.1734 - 13/08/2003
by james
- ENH: Fully localized Site Settings and Module Settings according key revision plan
- ENH: Added and updated some resources files

1.2.8.1733b - 10/08/2003
by Jakob Hansen 
- FIX: In module Links: DesktopSource in file install.xml changed from Iframe to Links (copy bug!)
- ENH: Added UseProxyServerForServerWebRequests and XMLFeedXSLFolder to Web.Config.
       
1.2.8.1733a - 10/08/2003
by Jakob Hansen (all coding was done by Joe Audette)
- ENH: In module XmlFeed UseProxyServerForServerWebRequests was added (see Web.Config).
- ENH: In module XmlFeed XMLFeedXSLFolder was added. XMLFeedXSLFolder is set in Web.Config. 
       Default behaviour is to not use XMLFeedXSLFolder (the module will behave as before this enhancement)

1.2.8.1733 - 01/08/2003
- FIX: More fixes on Ecommerce. 
       Added tax rate in Cart view and in Product checkout view.
       Total now uses price with taxes.
       TODO: Show price with taxes on email. Now it shows only in total
       TODO: Make some changes in keys
- FIX: Changes by James and in automatic Setup flow. Now code should be smarter.
       If you go on update page values are always refreshed. 
       Otherwise Code and Db value are cached in application scope.
       - ENH: Moved links in its own folder. Fixed Module registration.

1.2.8.1732 - 31/07/2003
by Ender (All credits go to Paul Yarrow)
- NEW: Monitoring module: Now you can display your site activities
- NEW: Who's logged on module: Shows you currently logged on users

1.2.8.1731a - 31/07/2003
- FIX: Amounts in Order receipts now display correctly.
- FIX: Total Amout now includes taxes.

1.2.8.1731 - 28/07/2003
- FIX: Now I flush portalsettings base cache before accessing Sitesetting module.
       This ensure that property page loads with correct localization.
- ENH: Changed LangList Setting to 'SITESETTINGS_LANGLIST'
- ENH: Upgraded language switcher to new Esperantus Control.
       See: http://www.rainbowportal.net/EsperantusWebSample/
       For HELP and DEMO

1.2.8.1730 - 28/07/2003
by Manu
- FIX: Event Module EditItem now checks StartDate also. 
       Avoid error when missed or invalid start date.
- ENH: New property: ShowHome on MenuTop. Now you may hide the Home link if you like.
- ENH: Added a pluggable layer for Shipping
	   I have updated tutorial:
	   http://www.rainbowportal.net/Rainbow/DesktopModules/ArticlesView.aspx?ItemID=38&mid=10327
- ENH: New languages: Tr and Ru
- ENH: Replaced old mk.bat files with NANT builder. Read NANT.txt. Rebuild requires NET Framework SDK.
- ENH: Removed compiled resource files from CVS. You will get them in releases or after rebuilding.
       This will reduce greately the Tarball size grown

1.2.8.1729a - 26/07/2003
by Jakob Hansen
- Added better error handling to module DatabaseTableEdit (code done by Josue de la Torre)
  Now the following problems are handled with a better errormessage
    * Login failed for user 'NT AUTHORITY\ANONYMOUS LOGON'
    * Cannot open database requested in login '<user>'. Login fails. 
    * Only single column primary keys are supported.

1.2.8.1729 - 26/07/2003
by Jakob Hansen
- Added module FileDirectoryTree (All code done by Josue de la Torre)

1.2.8.1728a - 16/07/2003
by Manu
- Added Search capability to Product module. For activate it plase go to admin all 
  and simply open and update the module definition. 
  This will set the serch bit on GeneralModule Definition table.

1.2.8.1728 - 15/07/2003
by Manu
- I have almost rewritten the whole ecommerce part.
  Now it checkouts smoothly.
  New Money class (all currencies supported)
  New Pluggabble gateways: add your own gateway
  Weight is processed correctly
  Almost all keys are ready for translation
  Tutorial: http://www.rainbowportal.net/Rainbow/DesktopModules/ArticlesView.aspx?ItemID=38&mid=10327

1.2.8.1727f - 02/07/2003
- ENH: Some more fix and enhancements in Checkout. Now the gateways are completely pluggable.
       For use it go on Products property page and provide some parameters.
       Simply write properties to set: Try in Wire transfert: ABI=1234;CAB=2345
       Gateways are registered in web.config section.

1.2.8.1727e - 04/07/2003
by Thierry (Tiptopweb)
- FIX: Switching the DesktopLayout and Theme for an individual page working again :)
  This was creating problems within a portal or accross portals
  Cache removed in PortalSetting.cs for Hashtable GetTabBaseSettings()
  (This is not loosing much on performance as not involving the DB, DB still read with or without cache)
  The problem is : we have new settings that were possibly not there with a database
  created a while ago (no problem with a database created after the new settings were introduced
  when we cache this part of the code, the hashtable is not flushed
  Then we read the database to set again the settings, unfortunately for some pages, the settings
  does not exist in the database and they will not be reset to an null value (even with the code
  added at the end in GetTabCustomSettings()
  consequence the values of the settings will stick
  the effect will be that a custom Layout for example will persist
  on pages without a custom layout setting, for a page created in the database
  before the introduction of the Custom Layout settings
  the problem will be the same with the Metadata and Culture Settings or any future new settings
  *** TODO : put back the cache in GetTabBaseSettings() and modify GetTabCustomSettings()
  to reset values not found in the database, if this is a better solution

1.2.8.1727d - 04/07/2003
by Thierry (Tiptopweb)
- FIX: move code to switch Layout from DesktopLayout.aspx.cs to PortalSettings
       todo: still a bug, as Layout is cached in CustomSettings and layout not reinitialised if empty

1.2.8.1727c - 30/06/2003
- FIX: Changed default connection string to dbo (SQL Authentication)
       Refer to http://www.rainbowportal.net/Rainbow/DesktopModules/ArticlesView.aspx?ItemID=36&mid=10440
       For changing existing connections strings. Having mixed owners it is not recommended.
- ENH: Updated resources for nl and nl-BE
- ENH: Upgraded FreeTextBox to 1.6.1 version
- FIX: Solved an issue with HTMLEditor data type

1.2.8.1727b - 29/06/2003
- FIX: Bug on optimization. PortalUrlDataType bug caused an infinite loop.
- ENH: Some more optimizations on code. 
       Cached all frequently accessed data (portalsettings, Tabsetting, Themeslist).
       Test measure: from 1,77 (1727) to 0,09 (1727b) per request (seconds)
       (Aqtime measurement - your time may be different)
- ENH: Restored DesktopTabsXml. You need to enable it on web.config

1.2.8.1727a - 27/06/2003
by Manu
- Performance gain.
  Analyzed code and done some optimizations. Basically on data types.
  This should not affect functionality. 
  Anyway Application test centers says that code moved from 
  1 avg request per second (1718) 
  to
  12,03 request per second (1727a) on my test machine
- FIX: esperantus. Display name now lookups COUNTRY_CountryInfo.Name. 
  It avoids conflicts with existing keys.
- FIX: Multiple UI languages with same name allowed even it is not recommended.
       Remember that only first one will be looked up.
       Anyway having multiple now does not lead to ugly errors.

1.2.8.1727 - 27/06/2003
by Mark
---Fixes---
- changed behavior in Page.cs LoadSetttings() to check for either Add or Edit permissions since everyone was inheriting from EditItemPage
- Changed code in PortalSearch.ascx.cs so it calls the new discussion thread window when displaying a thread
- fixed all (I hope) of the permissionss problems in the discussion module that still exist in other modules that inherit from EditItemPage
---Enhancements---
- New features in discussion module
1) keeps track of page hits (view count) for each thread
2) lets you open up an entire thread in its own page
3) search module now opens up an entire thread in its own window instead of the page with the discussion module
4) USers can now edit their own posts evven if the DO NOT have Edit permission


1.2.8.1722 - 25/06/2003
-by Manu
- Fix: Portal settings. A bug in localized tab causes changed tabs to disappear.
  This is because saved tab is an empty string.
- Enh: A more descriptive Portal not found error.

1.2.8.1721b - 25/06/2003
-by Manu
- FIX: Small issues on Language switcher.
 1) form now uses NativeName
 2) Flags (no label) shows correctly.
 3) Removed disabled setting (it make no sense now)

1.2.8.1721a - 25/06/2003
by john.mandia@whitelightsolutions.com
Added script 1.2.8.1718.sql to the xml file in setup/scripts as it was creating the views required and was generating an error.
For those who have already gone beyond this number in your version table you may need to run this script manually (Exlude the part where it updates the version table).

1.2.8.1721 - 25/06/2003
by Manu
Enhanced Language switcher
One big problem in previous implementation is the 2 list setting the is not so user-friendly. 
List must match, culture must contain only specific cultures, list must match in number... 
many ting to remember. An error here and you have to change db manually. 
So I decided to do a simpler code for managing cultures. 
This will affect essentially language switcher and portal settings. 
I have removed almost all properties: I saved only one CULTURELIST.
We have a list, the list has 2 columns: one for ui, one for formatting. 
(This follows NET UICulture and Culture)
Something like: it=it-IT;en=en-US 
First is ui, second is formatting. 
You can do also: it=en-US;en=en-US, keys in italian, formatting in US. 
You cannot have duplicate values in first column: en=en-GB;en=en-US is not allowed 
or, better, the second one is ignored. 
Here it is how lookup should work: Rainbow get a language request. 
It may be (in this order)
1) Querystring (lang key)
2) Cookie
3) Browser languages if avaulable (it looks up to find best match - not only first - all vaules are considered)
4) Default value (first in list)
It gets a valid CultureInfo value (invalid values are ignored). 
First lookup search for best match. en will match en and no other. 
(The List is sortable, position matters).
If not found it tries a more loosely match: if we search for en the first "child" (culture that has en as parent, like en-US) will be returned. 
The looked up column is the first one (UI column). 
When match is found set UI (keay and content) to first column, formatting culture to second one.... 
This method give us the freedom of choosing a custom pair. 
Consider a specific example of site: usually an user wants a generic English, 
maybe with the possibility of choose if it is GB or US. 
In language switcher flag can only be specific culture -- there is no "Portuguese" flag, 
only Portugal flag or Brazil flag so the name comes from first column but flag can only 
come from second one. 
My proposal is plain and easy: if you want English, no frill... 
simply choose a specific English you like, if you want 2 English 
(strange, uncommon but possible) do both specific or one of them specific..., 
anyway Language Switcher must follow it. 
If you have two English you want they would be different. 
So, considering only first column you may have two rows: en/en-US or en/en-GB 
It seems to me flexible and quite simple to implement and manage... 
I getting some weird problem with GUI interface (in attach a preview) so I downgraded it 
to single string... just for have it working quickly..., GUI interface is available for testing. 
Dig in to the portal setting code to find it ;)
Note: Most of this code was moved to esperantus. You can use it on any site.

-FIX: Removed VS 2003 solution. If you want to use VS 2003 just open 2002 solution and convert it.
      Sorry but I CANNOT KEEP IN SYNC 2 solutions.
-FIX: Removed secure/gateway email. It is not finished and give errors when compiled with mk.bat.

1.2.8.1720e - 24/06/2003
by Mario
- ENH: I have added new features in SimpleMenu module (ItemMenu, same behavior like ShopNavigation but can bind to all bindings.)
       (the hardcoded use of DesktopLayout MenuMSShop in DesktopDefault.aspx.cs already have been removed)
- ENH: The Dhtml Menu now work with stylesheet, therefor i have changed the HWMenu control and HVMenu javascript.
- ENH: In the LanguageSwitcher module i have added the possibility to hide the Labels behind the Flags.
*********************** IMPORTANT ******************
You are now able to itemize or categorize content in all modules using the itemID parameter like the Product module.
Be carefull adding the Dhtml menus on a deskoplayout always including a dhtml menu, it will fail (there can be only one HVMenu.)
****************************************************

1.2.8.1720d - 24/06/2003
by Ender (Credits go to Mark Brown)
- FIX: When another control is on page and a postback from that occurs calendar doesn't draw

1.2.8.1720c - 21/06/2003
by Manu
- Nice country list in portalsettings.

1.2.8.1720b - 21/06/2003
by john.mandia@whitelightsolutions.com
-ENH: Used the new Ballon Settings added by Manu to add the English Name and Description to some of the MetaSettings I added earlier (TabTitle, TabUrlKeyword, 
      TabMetaKeyWords, TabMetaDescription, TabMetaEncoding, TabMetaOther & TabKeyPhrase) for PortalSettings.cs and TabSettings.cs.
-Note: Please check the reference for Esperantus when you are compiling as it is dependant on where rainbow is on your system. Check the references folder in 
       VS.NET to see that it can see the dll. If not you will need to re-reference it.  

1.2.8.1720a - 21/06/2003
by Thierry (Tiptopweb)
- ENH: DesktopLayout / Themes can be set differently on EACH tab (Tab Settings)!
       If nothing is set, the DesktopLayout / Themes of the portal are used
       The desktopLayout swich is in DesktopDefault.aspx
       The Theme switch is in PortalSettings when getting the CurrentTheme
       (the theme is not optimal as the theme file will be read for each module instead of being read
        once when reading portalsettings - nothing is changed if you do not use the theme settings on a tab)
- FIX: removed from DesktopDefault.aspx the switch in Layout for the Shop
*********************** IMPORTANT ******************
If you are using a Products module: you will need to set an appropriate DesktopLayout for the shop
on the tab holding the Product module : for example MenuMsShop (it is using shopnavigation instead of menunavigation)
This is because it is not hardcoded anymore in DesktopDefault.aspx :)
****************************************************

1.2.8.1720 - 20/06/2003
by Manu
- ENH: Multilingual module Title. Set you multilingual module title using setting page.
- ENH: Multilingual Tabs. Set you multilingual title for all tabs using Tabsetting page.
- FIX: Changed PortalContentLanguage from string to CultureInfo. 
       So we are sure that it is a valid cultureInfo object.
- FIX: Changed PortalUILanguage from string to CultureInfo. 
       So we are sure that it is a valid cultureInfo object.
- FIX: Changed PortalDataFormattingCulture from string to CultureInfo. 
       So we are sure that it is a valid cultureInfo object.
- ENH: A lot of code cleaning in portalsettings.
- FIX: Modulsetting 'ShowOnEveryPage', shows on every page in EVERY portal. Fixed
	   http://sourceforge.net/tracker/index.php?func=detail&aid=755212&group_id=66837&atid=515929
- ENH: LanguageSwitcher enhancement. Links mode uses Link instead of postback. 
       This optimizes search engines crawling.

1.2.8.1719 - 20/06/2003
by Ender (Credits go to Mark Brown)
- ENH: Event Module now supports displaying a calendar. Uses the calendar control by Mark.
       - Login or get to a point to be able to edit events module collection properties
       - Check the box on ShowCalendar
       - Edit the individual event and enter in date and/or time
       - Calendar should render the event title on the appropriate day of the calendar

1.2.8.1718m - 19/06/2003
by Manu
- ENH: Baloon help for settings. Simply set description for you setting and a 
       small [?] will be visible at the left of your setting. The tooltip
       describes the setting. Localizable. The key is the very same of the setting + "_DESCRIPTION".
- ENH: Cleaned the Settings table. 
       Removed bluesky color. Now title are more clear and compatible with current theme.
- ENH: Some more fixes in esperantus and autolearn.
- ENH: Better defaults in web.config and ApplicationStart. This should need less twaks on new installations.
- ENH: Now ALL keys are converted in UPPERCASE. This is faster and more compatible.
- ENH: SendNewsletter module.
       - Fixed some wrong keys.
       - New setting for Testing
       - New setting for linking an HTML module. This provide a default template for newsletter.
       - Removed old unused Imagelogo setting. Use template.
- ENH: Removed Load of legacy settings not defined in DB
       If you missed some settings please check if this defined in your module. If not please do it.

1.2.8.1718l - 18/06/2003
by Manu
- ENH: Included system.web client script for Framework 1.1
- ENH: Small fixes in Articles module. A better HTML and a new property.
       You may Show/Hide date in tile if you like.
       Date in article now does not include time anymore.
- ENH: Esperantus. Convert to uppercase keys.
- FIX: by blarm
       http://sourceforge.net/tracker/index.php?func=detail&aid=754664&group_id=66837&atid=515929

1.2.8.1718k - 18/06/2003
by Manu
- FIX: A better error message when an invalid connection string is entered in web.config
- FIX: A better error message when AspnetAccount does not have write access to directory

1.2.8.1718j - 17/06/2003
by Manu
- ENH: Some more work on CheckoutPage. 
       Wire Transfer now works and it may give an idea of the whole thing.
       Added GatewayManager. 
       Now gateways can be simply added to web.config, even in different dll.
   
*********************** IMPORTANT CHANGE **********************************
- ENH: I have changed the way resources are stored. 
       This is a big step in semplifying the resource management. 
       Now you can simply comple Rainbow using visual studio. 
       No need for a separate compilation for resources.
  These are the changes:
  1) The localized resources are stored in Rainbow.resources.dll and no more on Language.resources.dll
  2) Resources are compiled using Visual Studio. 
     You may still use the updated compileme.bat in Resource folder to compile resources 
     without the need of visual studio.
  3) Installer manages these resources automatically.
  4) You must upgrade you web.config if you use manual configuration:
	 AssemblyName=Rainbow.dll;KeysSubStore=Rainbow.Resources.Rainbow;
  5) If you add a new resource file in Resources for support a new language
     you must remember to add to VS project.
  6) Esperantus data layer is pluggable so you do not see any other change.

- FIX: I have upgraded Esperantus.dll to the lates version 1.0.2.0382. 
       This includes:
       ENH: New setting: AutoLearnIgnoreSaveErrors
       ENH: New setting: AutoLearnIgnoreEmptyKeys
       ENH: New setting: ConvertToUpper. Keys are transformed in Upper case.
       FIX:Avoid recursion in KeyResourceManager GetAllKey fallback feature
              
- I have added also the localized resources in esperantus.
       
1.2.8.1718i - 17/06/2003
by Thierry, ECommerce
- FIX: paging products in Products.ascx

1.2.8.1718h - 13/06/2003
by Manu
- ENH: Some more work on CheckoutPage. I have started to separate Gateways.
       I need a week of work.

1.2.8.1718h - 12/06/2003
by Manu
- FIX: Default paths to esperantus stores when first request is not on root path.
       Now it returns correct value.
- FIX: In BuildUrl when target page starts with '/' and contains more than one page.
- FIX: In setting table. Now the GroupKey is saved on resource and not group description.
- FIX: A lot of minor fixes in Products.ascx. Still not perfect anyway.
- FIX: Register page redirect (all). Now it go back and save correctly.
- FIX: UserManager.aspx. Now it go back and save correctly. It supports key change (email and id)

1.2.8.1718g - 12/06/2003
by Thierry, ECommerce
- FIX: access denied for checkout, wrong fields when binding states, countries
- FIX: update cart button, cast to Label generating exception
- FIX: clean up code, follow model from Manu for properties in Product.ascx.cs
- ENH: Checkout button invisible if user not logged
- FIX: price with tax was missing in Product Layout
- TODO: Paging product not working, version with workflow to be fixed in checkout pages

1.2.8.1718f - 10/06/2003
by Manu
- FIX: Aligned mk.bat to latest changes
- FIX: Fixed various little bugs on Products.ascx (we need more work on this)
- Files Removed:
  - Secure/ProductsCheckOutCC, Secure/ProductsCheckOutEnd
  - Secure/WebControls/ all the directory as validation control 
    replaced by a better one as simple control in Secure/Components

1.2.8.1718e - 08/06/2003
by Manu
- ENH: A better order system avoiding try and catch in SettingsTable
       Now settings with no order have a progressive order number based on their position on list.
       
1.2.8.1718d - 08/06/2003
by Ender
- FIX: [ 736240 ] Rearranging order of tabs or modules problem

1.2.8.1718c - 07/06/2003
by Manu
- ENH: Esperantus Defaults are now loaded in Application_Start. 
       No need to manually tweak web.config in normal configuration.
       You could still provide custom configuration uncommenting keys in Esperantus section
- FIX: Daily Dilber now does not throw an access deined on image view if not logged on.
- ENH: Setting item: changed GroupKey to Group and from string type to SettingItemGroups enum type
- ENH: Setting item now has its own default translation: GroupDescription (readonly).
- ENH: Setting item: added EnglishName. Modules developers can provide default translation 
       for settings keys setting EnglishName property. It is recommended set it for ALL settings.

1.2.8.1718b - 06/06/2003
by Manu
- ENH: Full localization conversion for Products.ascx and Design\ProductLayouts
- FIX: Typo on Bindstate value in RegisterFull.ascx
- FIX: In Esperantus. Trimmed Name of Country for compatibily with char type CountryInfo.Name
       [InvalidExpressionException: Invalid parent: Expected 'AE ' but found 'AE'] 

1.2.8.1718b - 06/06/2003
by Manu
- ENH: Now you can disable UrlHandler feature in Rainbow.config.
       Locate this row 
       <add key="HandlerFlag" value="go" />
       and change to
       <add key="HandlerFlag" value="" />
       or simply comment out the row.
- FIX: Better error management and code cleaning in DesktopPanes.cs
- FIX: Syncronized VS 2003 solution with latest changes
- ENH: Splitted Resource compile (Resources folder)

1.2.8.1718a - 06/06/2003
by Jes1111
- FIX: Corrected SelectedIndex bug in LanguageSwitcher DataList

1.2.8.1718 - 03/06/2003
by Manu
- *********************** IMPORTANT CHANGE **********************************
  From version 1718 Rainbow use Esperantus as localization engine.
  All Rainbow.Globalization code is now on Esperantus.
  
  Esperantus is an indepentent project, Open source
  http://sourceforge.net/projects/esperantus/
  
  Esperantus can be used in non-Rainbow sites.  

  Esperantus configuration can be found on web.config - Esperantus section
 
  You MUSTchange you configuration path to your language stores.

  <add key="KeysStoreParameters" 
       value="AssemblyName=C:\Dev\CVSROOT\Rainbow\bin\Language.dll;
              KeysSubStore=Rainbow;Path=C:\Dev\CVSROOT\Rainbow\Resources;
              FilesPrefix=Rainbow" 
  />

  AssemblyName=C:\Dev\CVSROOT\Rainbow\bin\Language.dll
  must point ot language dll in your bin dir

  Path=C:\Dev\CVSROOT\Rainbow\Resources
  must point to Resources dire on your Rainbow dir

  
  I have made the needed changes on Rainbow.
  If you have custom code you have to do some changes:
  
  <%@ Import Namespace="Esperantus" %> 
  becomes 
  <%@ Import Namespace="Esperantus" %>

  using Esperantus; 
  becomes
  using Esperantus;
  
  <%@ Register TagPrefix="tra" Namespace="Esperantus.WebControls" Assembly="Rainbow" %>
  becomes
  <%@ Register TagPrefix="tra" Namespace="Esperantus.WebControls" Assembly="Esperantus" %>
  
  Esperantus.WebControls.xxx (all controls)
  becomes
  Esperantus.WebControls.xxx (all controls)
  
  Rainbow.Globalization.Localize.GetCurrentLanguage()
  becomes
  Esperantus.Localize.GetCurrentUINeutralCultureName()
  GetCurrentLanguage was used for retrieve the current language of the ui, in Esperantus
  this is more precise. It exposes GetCurrentUINeutralCultureName() and GetCurrentNeutralCultureName()
  
  Rainbow.Globalization.Localize.GetCurrentRegion()
  becomes
  Esperantus.CountryInfo.CurrentCountry
  Esperantus now has a dedicated object for manage Countries infos.
  Esperantus.CountryInfo.Current tries to get a valid country from CurrentLanguage culture.
  If a Country that matches current Culture cannot be found a null value is returned.
  
  GetCountries and GetStates are now modified. They return now an array of CoutryInfo objects.
  The list has no changes. Data are still get from SQL database befcause Esperantus
  supports custom conutries lists. You will see no changes in RegisterFull.acx control bahavior.
  A new view named: Esperantus_CountryList provides the list. Database is defined in Esperantus section
  in web.config. Be sure CountryRegionsStoreParameters matches your SQL database (this connection string
  is totally independent from you main connection string and gives you a great flexibility).
  
  Resources now are store on Resurce folder in Ms resx xml format.
  
  You compile resources using complang.bat - open file and be sure that path is pointing to
  you current Net Framework environment.
  
  SQL Localize table is not removed. Anyway it is not used.
  Esperantus Autolearn adds keys in your Resource/Rainbow.resx file.
  
  Use Esperantus tools for mange resources in *.resx format.
  You can import/export from/to Access mdb file.
  ***************************************************************************
  
1.2.8.1717c - 30/05/2003
by Thierry (updates for the ECommerce)
- FIX: corrected order receipt in checkout + view account (not localized)
       the xsl file is in /DesktopModules/Ecommerce
- FIX: some localisation code in checkout + clean up buttons

1.2.8.1717b - 29/05/2003
by Jes1111
- FIX: corrected broken Language settings in PortalSettings.cs

1.2.8.1717a - 28/05/2003
by Thierry (updates for the ECommerce)
note : The following files needs to be removed : ProductsCheckoutCC + ProductsCheckoutEnd + Secure/WebControls/validation.cs
- ENH: add a shop home link on top of category menu
- ENH: add category title on top of module
- ENH: product layout: do not display prices if 0 or tax rate is 0, if no price replace the 
       add to cart button by text 'contact shop'
- ENH: add OrderSuccess and OrderFail pages at the end of checkout, order success is 
       displaying a receipt
- ENH: step 4 is sending an email to client with receipt of the order, the receipt is generated
       from xsl file in /DesktopModules/ECommerce
- ENH: View Account button: Product module can display the list of orders for the client, using the
       above xsl receipt
- ENH: add new credit card validation more robust using type of card (use --TEST-- to escape validation)
- FIX: various little bugs and cleaning in Products and Checkout files

1.2.8.1717 - 28/05/2003
by Manu 
- FIX: Products.ascx invalid tra control.
- FIX: UserUpdate. If AllowIDChange is active and you change id active roles were deleted. Now is fixed.
- CLEANUP: Removed unused: LangSwitchLocation, LangSwitchPosition. Moved LangSwitchType in LangSwitch file.
- CLEANUP: Moved Esperantus.GlobalInternalStrings to Rainbow.Configuration.GlobalInternalStrings
- CLEANUP: Removed unused: Localize.GetDefaultCulture, Localize.GetCulture, Localize.GetSingleCountry
- CLEANUP: Set nowrap on SignIn box.

1.2.8.1716a - 28/05/2003
by Manu 
- FIX: Desktop Module title - Added check: Modules directly placed on page 
       does not have ModuleConfiguration (issue on Logon.aspx)

1.2.8.1716 - 27/05/2003
by Mario
- ENH: add breadcrumbs as a module. 
       there is nothing to configure there are only three styledefinitions for the apearance. 
- ENH: add simple version of a menu module. 
       this module enable you to add a menu whereever you want as a module. 
       you can define the 'BindingOption' 'dhtml or static' menu. 
- ENH: moved the MileStones module in an own folder

1.2.8.1715b - 27/05/2003
by Manu
- FIX: Error executing child request for DesktopDefault.aspx. Changed to Response.Redirect.
       http://sourceforge.net/tracker/index.php?func=detail&aid=743851&group_id=66837&atid=515929
- FIX: Portalsetting load thrown some eceptions. I have removed try catch to avoid ignoring it.
       Better handling on Null values.
- FIX: Removed old setting from Register and RegisterFull modules. Now are set right on the module itself.
       RegisterShowTitle", RegisterApplyTheme, RegisterTheme.
       http://sourceforge.net/tracker/index.php?func=detail&aid=743540&group_id=66837&atid=515929
- FIX: Cleared selection on CountrID before select. Fixes Checkout nad RegisterFull.
       http://sourceforge.net/tracker/index.php?func=detail&aid=741826&group_id=66837&atid=515929
- FIX: Addressed this bug: "Can't add admin usebefore changing to Windows Authentication"
       Can anbody using Windows authentication see if it works?
       http://sourceforge.net/tracker/index.php?func=detail&aid=743476&group_id=66837&atid=515929

1.2.8.1715a - 26/05/2003
by Thierry
- FIX: History.xml missing version 1.2.8.1715 from last update

1.2.8.1715 - 26/05/2003
by Manu
- FIX: Langswitch now is inserted by this script on module list for all portals 
- FIX: Signin now is inserted by this script on module list for all portals 
       On 1.2.8.1714 you had to add it both manually
- FIX: Compile error on Visual studio - Removed unexistent file IRainbowModules.
- FIX: On RegisterFull and Checkout - Fixed country list selection.
- FIX: Products.ascx: Must bind even if postback because paging is manged by db.
- FIX: Page.cs. Add a check for Portalsetting portalSettings.CustomSettings != null tha throws error sometimes

by john.mandia@whitelightsolutions.com
- ENH: PortalsDb (new portals creation): Add Signin Module and put it on the hometab 
- ENH: PortalsDb (new portals creation): Add language switcher to available modules

1.2.8.1714d - 25/05/2003
By Jes1111
- *********************** IMPORTANT CHANGE **********************************
  Auto placement of Signin and LanguageSwitch modules disabled. Use new
  "ShowEverywhere" setting on first placed instance of either module
  to make them show up on all pages. For the Signin module, set its view
  permissions to Unauthenticated Users and Admins + uncheck All Users. 
  Since you won't get a signin module showing up when you first run Rainbow
  after this update, use Rainbow/Admin/Logon.aspx to signin as Admin.
  IMPORTANT: we need to produce a script or whatever to add a Signin module
  to the first tab of a fresh portal -- can someone help me with this? I'm
  a complete klutz in the SQL department.
  ***************************************************************************
- Signin (all flavours) and LanguageSwitcher modules are now regular
  placeable modules -- associated settings have been removed from Site Settings.
  Note that LangList, CultureList, LangLock and LangUser are still in the
  Site Settings table, since they are needed/useful even if you only run
  one language. LanguageSwitcher documentation will be updated soon.
- Modified SettingsTable so it now orders and groups Portal and
  Module settings insteading of showing one big list. Groups and order within 
  Groups is set by specifying in the constructor. New SettingItem property Group
  and enumerator SettingItemGroup. Site Settings and shared Module settings have been 
  modified to group properly. I've modified HtmlModule to show how it is done for 
  a module, but I'm delaying updating all the other modules pending some other
  forthcoming changes. Any module that has not been updated to use the new
  scheme will look "a bit messy" on its settings screen, but it all still works.
  Group headings are "localized", but waiting for Esperantus to enter translations, 
  so the text key shows up at the moment.
- Added "Print this..." button. Activated in Module Settings. Core stuff is solid, 
  but so far I've only done a minimal implementation of the actual  print page. 
  PrintHeader and PrintFooter templates added to all Layouts. If you
  have a custom layout, you'll need to duplicate from a standard layout as a starting
  point. Print button image added to all Themes (plus some others). Seems to work
  for all the modules I've tried, although "active" modules, i.e. with edit links, etc
  showing break if you click the link in the print page. Even works for shortcuts if 
  you set the Print button "on" in the original.
- Added "Back" button - this is for modules which can change their view - of which
  there are none at the moment! My forthcoming XML Item Manager uses it.
- Some code added, but commented out for the moment, to implement "Email this..." and
  "Help" buttons. I'll be discussing these in the list.
- Some interior changes to XmlLangModule - still functions the same.
- Modified GetPortalCustomSettings() in PortalSettings.cs, so it doesn't read in 
  "rogue/redundant" settings -- this seemed safer than producing a script to delete 
  them from db. Thoughts?

1.2.8.1714c - 25/05/2003
By Marc Babin (tested and added to CVS by Jakob Hansen)
- Survey are now 100% ready for localization. 
  Localized strings will later be entered by Esperantus tool
- Fixed missing image in module EventLog using BuildUrl

1.2.8.1714b - 25/05/2003
By Marc Babin (tested and added to CVS by Jakob Hansen)
- FAQs are now 100% ready for localization. 
  Localized strings will later be entered by Esperantus tool

1.2.8.1714a - 24/05/2003
By Jakob Hansen
- Added localized SendThoughts module (All hard work done by Marc Babin). 
  The module is now using SmtpServer from web.config setting key="SmtpServer"

1.2.8.1714 - 24/05/2003
BY john.mandia@whitelightsolutions.com AND BILL
- Bill Has Introduced Collapsable windows and script 1.2.3.1713
- I have just added a few bug fixes to show on every page and also added 1..2.3.1714 which updates the stored procedures 
  needed for collapsable windows and showeverywhere to work.

1.2.8.1712n - 23/05/2003
By Manu
- FIX: Portalsettings: SupportCollapsable throw an error. Wrapped in a try catch construct for now.
- FIX: Products module. Now you can add a product without an image.
- ENH: New Money class for managing multiple currencies (namespace Esperantus)
      (EUR and USD, can be more if you like). (old was euro only)
- FIX: Money: Changed data type from double to decimal 
- ENH: Products module. Currency is now a selectable product module property.
       Get currency list from: Money[] Money.GetCurrencies()
- ENH: Products module. Now prices are formatted with current Money.
- ENH: Shopping cart. Now total and Items are formatted with current Money.
- ENH: Checkout. Now total and Items are formatted with current Money.

1.2.8.1712n - 23/05/2003
By john.mandia@whitelightsolutions.com
- FIX: Added these two controls to Rainbow.config to enable collapsible modules
	<add key="WindowMgmtControls" value="false" />
	<add key="WindowMgmtWantClose" value="false" />

1.2.8.1712m - 22/05/2003
By Jakob Hansen
- FIX: Problem with "Alias=" fixed in Community RSS and WebService BETA.

1.2.8.1712l - 21/05/2003
By Jakob Hansen
- Updated Community RSS and WebService BETA: Made PortalAlias work!

1.2.8.1712k - 21/05/2003
By Bill Anderson
- Added Window Mgmt. (Min/Max/Close) and Save Configuration

1.2.8.1712j - 21/05/2003
By Jakob Hansen
- Added Module ServiceItemList BETA (uses the community WebService)
- Added community WebService BETA (file CommunityService.asmx in root)

1.2.8.1712i - 21/05/2003
By john.mandia@whitelightsolutions.com
- Fixed unreported bug. Default Page title was only showing portal name instead of the Default Title in PortalSettings
- Fixed bug in portalSearch (The link returned when a discussion is found now points to the tab instead of the Discussions View.aspx page since it doesnt exist anymore).
- Changed portalsearch so that it uses UrlBuilder instead of the hardcoded DesktopDefault.aspx page.

1.2.8.1712h - 20/05/2003
By Manu
- Fixed Msdefault/Theme.xml - Now the html is valid
  http://sourceforge.net/tracker/index.php?func=detail&aid=740720&group_id=66837&atid=515929

1.2.8.1712g - 20/05/2003
By Jakob Hansen
- Added RSS community BETA release (file CommunityRSS.aspx in root)

1.2.8.1712f - 19/05/2003
by Manu
- FIX: Incorrectly the base.OnInit was called twice. So the events were registered twice.
       http://sourceforge.net/tracker/index.php?func=detail&aid=738447&group_id=66837&atid=515929
- FIX: Lost password mail.
       ApplicationFullPath had problems with url handlers. Changed algorithm. Now it works.
	   http://sourceforge.net/tracker/index.php?func=detail&aid=736250&group_id=66837&atid=515929
- FIX: Lost password mail.
       Name was sent instead of email. This fails direct logon.
- FIX: Lost password mail.
       Line ends does not break properly. Changed \n to \r\n - Now it breaks just fine.
- FIX: DesktopFooter.ascx: Added Try catch to avoid error when portal footer is not found

1.2.8.1712e - 17/05/2003
By Ender Malkoc
- FIX: Delete Role now asks for confirmation. Sourceforge bug 673937
- FIX: Authenticated Users checkbox not checked. Sourceforge bug 736239
- FEATURE: UserDefinedTable Module now have a new data type "File".
- FEATURE: UserDefinedTable Module now supports XSL processing.

1.2.8.1712d - 17/05/2003
By Jakob Hansen
- FIX: Hyperlink edit Image in FAQ. Sourceforge bug 737924
- FIX: Lost password mail is now "more beautiful". The login not fixed link. Sourceforge bug 736250

1.2.8.1712c - 17/05/2003
- john.mandia@whitelightsolutions.com
- Implemented footer [PLEASE NOTE IF YOU HAVE A CUSTOM LAYOUT YOU NEED TO INCLUDE A FOOTER NOW]
- Tided up some of the html (Added head tag to some pages so that head file wouldn't automatically be written into the body tag)
- Introduced 4 new rb_css values:
       - rb_AlternatePortalHeader (css that is applied to the td that contains portalbanner ascx file) 
       - rb_DefaultPortalHeader (css that is applied to the td that contains portalbanner ascx file)
       - rb_AlternatePortalFooter(css that is applied to the td that contains portalfooter ascx file)
       - rb_DefaultPortalFooter(css that is applied to the td that contains portalfooter ascx file)
	[PLEASE NOTE THAT YOU WILL NEED TO INCLUDE THESE IN YOUR CUSTOM THEMES]
	Default css is basically for casual views where as Alternate is for admin type pages 
        (In case someone wants to give a different look depending on the function of the page)
- Slight change to survey module so that it spaces out questions a bit nicer
- Introduced Code that was implemented by Jason and Mario, Adds new menu binding options and also keeps track 
  of relationships (parent tab, sub tab, sub sub tab etc) which means you can have both the top and subtab highlighted.
  Changed files: BindEnum.cs, DesktopNavigation.cs, MenuNavigation.cs these were mainly additions and should not affect anyones code.


1.2.8.1712b - 16/05/2003
by Manu
- FIX: Daily Dilbert. Image wiew link was wrong.
- FIX: Daily Dilbert. Image wiew percentage setting thows an error.
- FIX: Extra space on lang list throws: 
	   http://sourceforge.net/tracker/index.php?func=detail&aid=737634&group_id=66837&atid=515929

1.2.8.1712a - 16/05/2003
- FIX: Picture module now uses .jpg as picture extension
- FIX: PortalSearch tab link now correct
- FIX: PortalSettings.cs had code that does not run in a webservice:
       A webservice has no "HttpContext.Current.Request.UserLanguages"

1.2.8.1712 - 16/05/2003
By Jakob Hansen
- Added module "XmlFeed"
- Moved module IframeModule to own folder

1.2.8.1711d - 16/05/2003
by Manu
- FIX: RegisterFull and ProductCheckout: CountryID was not retrieved correctly from db.
- FIX: ProductCheckout: Update profile button now not causes validation 
       (no unwanted messages if you want to change profile).
- FIX: ProductCheckout: Moved some static text to literal globalized controls.
- FIX: ProductCheckout: UpdateProfileBtn_Click now calls update profile correctly.
- FIX: Ecommerce Namespace, some fix on names to avoid conflicts.
       Removed external gateway reference. All code is on Secure/Components now

1.2.8.1711c - 16/05/2003
by Manu
- FIX: Fixed multiselect list data type. Now handles correctly null values.
- ENH: Language list on Module properties is now a multiselect list. 
       So you may select one or multiple language.
	   To see it click on edit properties on any module.
	   Invariant culture is neutral (the module is always shown)
	   The list comes from currently selected languages in portal settings.
       Sample: If you select both Italian and French languages you see Italian and French.
       Known issue: if you select any language other than Invariant (neutral language, 
                    it matches any language) only specific culture is shown.
       Sample: If you select both Invariant and French languages you see French only.

1.2.8.1711b - 14/05/2003
by Manu
- FIX: Modules not available in design time. Fixed GeLangList for work when Context is null
- ENH: New PagingNumber control. I it is based on AspnetForum code but I have adapted to Rainbow interfaces.
  The main difference is tha original is 0 based but rainbow is 1 based.
  Shares the same interface of old Paging control. Use it in place of old one.
  No need for code changes, aspx only.
  Before: <cc2:Paging id="pgPictures" runat="server" />
  Now:    <cc2:PagingNumbers id="pgPictures" runat="server" />
  Code on class remains the same. I have upgraded it to IPaging type.
  protected Rainbow.UI.WebControls.IPaging pgPictures;
- ENH: Added option for show language switcher in horizontal
- ENH: Testing layouts: Add Layout=<layoutname> to querystring. The specified layout will override current one. 
       The advantage is that if something goes wrong you may always go back       

1.2.8.1711a - 14/05/2003
- Fix: Module ComponentModule do not result in error in PortalSearch anymore

1.2.8.1711 - 14/05/2003
By Jakob Hansen
- Added module "EventLogs"

1.2.8.1710d - 14/05/2003
- Fix: Tasks module, fixed problem with PickDateCalendar.aspx (by Jakob Hansen)
  http://sourceforge.net/tracker/index.php?func=detail&aid=736959&group_id=66837&atid=515929

1.2.8.1710c - 13/05/2003
by Manu
Language improvement and a step further to multilanguage portal
- FIX: LangSwitcher in form mode now correctly sets current language.
- ENH: Added: Change button
- ENH: Changed SortedList to ArrayList. 
  Languages are sorted exactly as you enter it on Portalsettings an not in alphabetical order
- ENH: Lang name is now is binded to DisplayName. You get it localized according current language setting.
- ENH: Added: new setting on ALL modules: Culture. The list is get directly from portal
  languages list so it is the same list that expose language switcher.
  DesktopModules.LanguageSwitcher.GetLanguageList()
  If Culture is neutral the module is showed. If the culture is set a check is performed. If
  culture matches current language module is showed. Otherwise is hidden.
  On TabLayout page you see all modules as usual.
- FIX: Fix on Rainbow.Configuration.PortalSettings.ProcessCultures(). 
  In some circunstances it throws an error. It should be fixed now.

1.2.8.1710b - 13/05/2003
- Fix: Localization does not work with checkbox by MarcB
  http://sourceforge.net/tracker/index.php?func=detail&aid=735404&group_id=66837&atid=515929
- Fix: bug in powergrid.cs by Mats71
  http://sourceforge.net/tracker/index.php?func=detail&aid=733777&group_id=66837&atid=515929
- Fix: Logon and logoff button were not localized correctly on HeaderMenu.cs
  http://sourceforge.net/tracker/index.php?func=detail&aid=735446&group_id=66837&atid=515929
- Fix: Custom DeskTopLayouts not found in portal directory by George James (ghjames)
  http://sourceforge.net/tracker/index.php?func=detail&aid=735716&group_id=66837&atid=515929


1.2.8.1710 - 12/05/2003
By Jakob Hansen
- Added module "Quiz"

1.2.8.1709a - 09/05/2003
- By Jakob Hansen: ComponentModule is now searchable

1.2.8.1709 - 09/05/2003
By Jakob Hansen
- Added module "Sitemap"

1.2.8.1708 - 09/05/2003
By Jakob Hansen
- Added module "ComponentModule"

1.2.8.1707 - 08/05/2003
By Jakob Hansen
- Added module "Survey"

1.2.8.1706 - 07/05/2003
- by Mark. Updated Discussion module for
 	Ability to edit and delete discussion items if you are in 
	the proper role (e.g. Admin,...)  

1.2.8.1705e - 07/05/2003
- By Jakob hansen: Updated module "Announcement" with new features by Indah:
  HtmlEditor, Heigth, Width, ShowBorder, Vertical/Horizontal, RepeatColumns

1.2.8.1705d - 06/05/2003
- Fix: New portal fails when UseSingleUserBase="true" - by Manu
       http://sourceforge.net/tracker/index.php?func=detail&aid=733270&group_id=66837&atid=515929
- Fix: Fixed themes so they do not show a white border at the top by default.
       There was a problem with the css and the html (table margins had to be 
       changed and the top td that contains desktopbanner had to have the table style
       applied (Otherwise it would default to margin 3 - Thanks Jes for pointing out 
       the css stuff).
- Tidied up some of the html (There was colspan="2" in a few places where it wasnt needed).
- Applied the css styles to all modules.
- Todo: look at Secure directory to see if it needs the css styles.

1.2.8.1705c - 06/05/2003
- Fix: DesktopPane - 1329 event firing bug - by Manu 
       There was a problem DesktopPanes code. version 1329. 
       Some events on left and right panes were not fired. 
       I have fixed it in 1330.
       http://sourceforge.net/tracker/index.php?func=detail&aid=731651&group_id=66837&atid=515929
       http://sourceforge.net/tracker/index.php?func=detail&aid=733148&group_id=66837&atid=515929

1.2.8.1705b - 05/05/2003
- By Manu
- Fix: http://www.rainbowportal.net/AspNetForums/ShowPost.aspx?PostID=2637
       When changing a property of one of the subportals 
       (using the Portal Settings module of the Main (Rainbow) Portal) 
       those changes are not saved to the database.
- Fix: Esperantus.WebControls.HyperLink "~" problem - FW 1.1
       Fixed for ImageUrl and NavigateUrl
- Fix: 1636 script: removed dbo.
       http://sourceforge.net/tracker/index.php?func=detail&aid=733444&group_id=66837&atid=515929
- ADD: SigninCool module (to be tested)

1.2.8.1705a - 05/05/2003
- By Cory Isakson: fixed edit link URL on several modules
	announcements
	articles
	contacts
	discussion
	documents
	events
	faqs
	links
	milestones

1.2.8.1705 - 05/05/2003
- By Thierry: new version of ECommerce module
  Code also from Manu, Indah Fuldner, Ruben
  All check out process rewritten (see Secure directory) using 4 steps.
  Beginning of code for Shipping and Gateway options
  Important: Products and Orders tables are DESTROYED by the sql script !!!
  add something in the rb_ShipZones and rb_ShipPrices to go through shipping
  Currency is only $
  Workflow is broken in checkout (so do not use it for now)
  This is a BETA version designed to have people working on it, do not use yet for you shop

1.2.8.1636a - 02/05/2003
- By Jakob Hansen: Bug fix for WeatherDE design setting

1.2.8.1636 - 02/05/2003
- By Manu: Improved edit user pages. Minor bug fix.
- By Manu: Allow to change ID on non identity userid (Allow register must be off)
- By Manu: Overall improvement of User edit page, now is complete 
           and uses the same control of registration
- By Manu: Avoided dbupdated message on start
- By Gert: The default page on BuildUrl now is not hard coded and depends on HandlerTargetUrl setting in web.config
- By Indah Fuldner: Improved breadcrumbs (no db hit), fixed GetTabRoot

1.2.8.1635 - 01/05/2003
By Jakob Hansen
- Added modules "WeatherUS" and "WeatherDE"

1.2.8.1634 - 01/05/2003
By Jakob Hansen
- Added module "UserDefinedTable"

1.2.8.1633 - 01/05/2003
By Jakob Hansen
- Added module "WebPartModule"

1.2.8.1632 - 30/04/2003
By Jakob Hansen
- Added module "GoogleSearch"

1.2.8.1631a - 29/04/2003
- By Jakob Hansen: More Tasks Localizing

1.2.8.1631 - 29/04/2003
By Jakob Hansen
- Localized module Tasks (done by Marc B). Also moved into own folder.

1.2.8.1630c - 29/04/2003
- By Manu: New fixed Panes version. New fixed Menu.

1.2.8.1630b - 28/04/2003
- By Ender: Fixed the bug in PortalModule control which breaks Picture and Product modules
- By Manu: Restored previous Panes version. It gives problems with menu.
- By john.mandia@whitelightsolutions.com:
- Removed hardcoded values for table width and alignment and the body tag 
  So that it can be controlled 100% by your themes. Table now has 
  a css reference and is wrapped by a div tag (for browser compatibility).
- There are two groups of css styles added to the css file (You need to add this to your custom themes).
  1) .rb_DefaultLayoutDiv & .rb_DefaultLayoutTable 
  2) .rb_AlternateLayoutDiv & .rb_AlternateLayoutTable
  Group 1 is used on general pages and Group 2 is used on Admin Pages 
  (In case you wish to have more width for your admin pages)
- I have added a new theme MSDefault76 where it demonstrates a width of 76% centered 
  (Please not if you place objects that are bigger than that then it will stretch). 
  I have also updated all the old themes so that they still appear the same (width 100%).

1.2.8.1630a - 28/04/2003
- By Manu - New Threepanes version.
- Fixed minor typos on modules xml comments
- IMproved create db
- Better support for edit on Register pages


1.2.8.1630 - 28/04/2003
- by Mark. Added Discussion module to the core

1.2.8.1629 - 27/04/2003
By Jakob Hansen
- Added module "SendThoughts" (Not localized!)

1.2.8.1628c - 27/04/2003
By Jakob Hansen
- Fixed DailyDilbert image bug

1.2.8.1628b - 26/04/2003
By Jakob Hansen
- Added module "MapQuest" (and not FAQs)

1.2.8.1628 - 26/04/2003
By Jakob Hansen
- Added module "FAQs"

1.2.8.1627 - 25/04/2003
By Jakob Hansen
- Added module "FAQs"

1.2.8.1626a -25/04/2003
- Jes. Fixed problem in Keyword Splitter (HttpUrlBuilder)

1.2.8.1626 - 24/04/2003
By Jakob Hansen
- Updated module "Announcement" with new features by Indah:
  HtmlEditor, DelayExpire, Heigth, Width, ShowBorder, Vertical/Horizontal, RepeatColumns

1.2.8.1626 - 24/04/2003
- Manu. added new portalsetting: AllowRegistration. If you do not allow registrations set it to false
- Improved edit profile. Now you can not set password if you like.

1.2.8.1625a - 24/04/2003
- Fixed onUpdate/onAdd/OnDelete cache flushing bug in page.cs
  Previous behavior restored - cached module contents are flushed
  whenever any edit operation is performed.
  
1.2.8.1625  - 24/04/2003
By Jakob Hansen
- Moved modules DatabaseTool, DatabaseTableEdit and DailyDilbert into own folders.
  Added install.xml, readme.txt and example.jpg for each module

1.2.8.1624b - 24/04/2003
- fixed problem with "=" in Keyword Splitter (HttpUrlBuilder)

1.2.8.1624a - 24/04/2003
By Jes1111
- New module CacheViewer - for admin/dev use to see contents of Rainbow cache.
  Shows key, size and contents (sorted by key). Add to any page, but remember 
  that Admin user will not add anything to cache so you need to log out to see it happening.
- Changed Module CacheKey to add PortalAlias - helps identify modules in CacheViewer in
  multi-portal setup.
- New module XmlLangModule - extension of original XML/XSLT module, but works with
  LanguageSwitcher. Full documentation to follow. Includes new XslHelper.cs which is
  passed in to XSLT to give access to selected Rainbow methods and properties. 
  Sales2.xml and Sales2.xsl in _Rainbow/xml folder demonstrate functionality - set 
  LangList="en;fr;pt" and CultureList="en-US;fr-FR;pt-PT" in Site Settings. 
  NOTE: Module Title not localized (yet).
- Improved cache behaviour: CacheTime=-1 is now a legitimate value, rather than a 
  happy accident.
- Added bool "Cacheable" property to modules - forces CacheTime to -1 to prevent caching
  of all instances of module type. See PortalSearch.ascx.cs for demonstration of disabling
  caching. No DB update - "Cacheable = false" is hard-coded into module code. Also disables 
  CacheTime field on ModuleSettings page. Use when module type should never be cached.
- Fixed Designer problem with Cache (reported in Forum).

1.2.8.1624  - 23/04/2003
By Jakob Hansen
- Added module "Daily Dilbert"

1.2.8.1623a - 23/04/2003
By Jes1111
- Corrected small problem with LanguageSwitcher
- Expanded documentation PDF

1.2.8.1623  - 22/04/2003
By Jakob Hansen
- Added module "Tasks"  (Not localized!)

1.2.8.1622  - 22/04/2003
By Jakob Hansen
- Added module "Database Table Editor"

1.2.8.1621  - 22/04/2003
By Jakob Hansen
- Added module "Database Tool"

1.2.8.1620c - 22/04/2003
By Jakob Hansen, minor Search update
- If Moduletitle is displayed can be controlled using the settings system
- Manu: Fixed bug on switch language. (httpurlbulder)

1.2.8.1620b - 21/04/2003
- Fixed imageurl on hyperlink globalized control

1.2.8.1620a - 21/04/2003
By Jakob Hansen, Search update
- Link to discussion fixed
- Date 1/1/1900 not displyed
- Html tags always removed from abstract
- Moduletitle (from [rb.Modules].[ModuleTitle]) used as title for HtmlModules

1.2.8.1620 - 21/04/2003
By Jes1111
- Added new auto-placed module (similar operation to SignIn) called
  LanguageSwitcher, together with changes to Global.asax.cs, 
  PortalSettings.cs, DesktopPanes.cs and web.config files.
  Enables fine-grained control of UI language, content language 
  culture-sensitive formatting, for single- as well as multiple-
  language portals. PDF document in /DeskTopModules explains all.
  Demonstration language-sensitive XML/XSL module coming soon!
- Related to above, new folder "images/flags" in application root.
- Related changes to cache behavior to support multiple languages.
- NOTE: I've had to temporarily disable caching of portalSettings:
  classic Catch-22 situation until static data is separated from
  dynamic data.
- NOTE: big clash here on encoding (see 1.2.8.1919b below), since
  iso-8859-1 does not appear to support the Euro symbol. See comment
  in web.config file.
- Added DesktopTabsXml (XPathDocument) property to PortalSettings. This
  is an indirect serialization of the existing DesktopTabs property. It
  has no use at present unless you want to implement a third-party menuing
  system as I have, but it might be interesting for others to look at.
- Added KeywordSplitter function to HttpUrlBuilder - see comments in 
  Rainbow.config file.

1.2.8.1619b - 19/04/2003
- I had spent some time to fix all images in all controls.
  Now should work for framework 1.0 and 1.1 as well.
  Let me know if I miss someone
- Fixed Encoding on web.config for Netscape 4.x support
- Fixed Mobile module check on install
- Fixed tabID on PortalNavigation url

1.2.8.1619a - 19/04/2003
- Fixed user manager

1.2.8.1619 - 19/04/2003
By Thierry
- Added workflow support for Product (E-commerce) module

1.2.8.1615 - 18/04/2003
- Articles: some changes necessary to support unicode by marcb_empco@hotmail.com
- Fixed some issues with templates

1.2.8.1614a - 18/04/2003
- Fixed error on 1614.sql script
- Fixed Encoding on Articles
- Fixed Tags on search
- Fixed GetAbstractText helper function when space is not present
- Fixed Portals.ascx GetString legacy code

1.2.8.1614 - 17/04/2003
By Manu
- Minor fixes
- SMTP cluster support by marcb
- Improved Framework 1.1 support with buildurl and images
- Corrected <pages validateRequest="false" /> position in web.config
- Restored -lines on 1516.sql to correctly migrate data if present
- Fixed portalid in signin- by marcb

1.2.8.1613d - 15/04/2003
By Manu
- Minor fixes
- Small changes on pictures layout to be loaded on Vs

1.2.8.1613c - 14/04/2003
By Manu
- Fix ValidateRequest attibute on web.config for Framework 1.1 support
- A better setup.bat
- Fixed ApplicationFullPath potential problem

1.2.8.1613b - 14/04/2003
By john.mandia@whitelightsolutions.com
- Added Rainbow.config file for Handler settings (Error Handler and Url Handler - They have been removed from web.config)
- Added V0.8 of the ErrorHandler. See announcements for changes.
- Moved call for ErrorHandler from HttpModule to Global.asax.cs
- Log Folder has been added (Please make sure there are write permissions to this folder).

1.2.8.1613a - 14/04/2003
By Manu
- Some slight fixes on sql scripts to improve upgrade on old sites 
- db code is checked now on each request (it is cached :) ) so you cannot surf if
  db it is not upgraded
- Unexistent portal now gives a meaningful error
- Fixed blacklist with new table names
- Fixed path on folder creation on Appstart

1.2.8.1613 - 13/04/2003
- New Flash module by Indah Fuldner ; indah@die-seitenweber.de
- Fixed workflow procedures for Milestones module (Manu)
- Fixed GetAnnounces table (now sort is fine) (Manu)

1.2.8.1612 - 12/04/2003
Module based on the picture album from Ender and the original IBS shop. 
- many categories of products (3 levels by menu):
 the module has to be created in a root page and the child pages
 will act as categories (the navigation is invalidated on the page 
 containing the module)
- all nice features of the picture album including Product Layout, 
  paging, generation of thumbnail (old version not including the workflow). 
Under development: 
check out to be improved
payment gateway with several options
upgrade to latest picture album and integrate globalisation and workflow
shipping table. 
Bug: need to be logged-in for navigation in the module to work.
Thierry   


1.2.8.1610 - 10/04/2003
- Picture Module v2.1 by Ender Malkoc
  - Workflow support 
	IMPORTANT - Do NOT enable workflow for your existing modules.
        IMPORTANT - Revert function is not working, God knows what'll happen if you click that
	IMPORTANT - If you enable workflow for a module that already have pictures,
	you'll need to publish it once in order to see existing pictures in production
  - Localization support
  - Search support
  - New Picture Layout : VerboseImageView to demo EXIF capabilities of the picture module

1.2.8.1609 - 09/04/2003
- MultiSelectListDataType by John Bowen
(Manu)
- Fixed search module after table renaming
- New installer procedure. 
  Read help: http://www.rainbowportal.net/Rainbow/DesktopModules/ArticlesView.aspx?ItemID=13&mid=10327

1.2.8.1608 - 08/04/2003
(Manu)
- New logon way, now you can authenticate using id instead of email
- Upgraded to latest Table naming convetions. Hopefully this is the last one :)
  - All Rainbow procedures are prefixed with rb_? Eg. rb_Announcements
  - All staging tables are Postfixed with _st? Eg. rb_Announcements_st

1.2.8.1606a - 08/04/2003
(Manu)
- Fixed some Rainbow.Security.RainbowPrincipal issues
- New UseSingleUserBase setting on web.config. 
  Use it to authenticate using a single user base for all portals.

1.2.8.1606 - 08/04/2003
ErrorHandler
Thanks go to  Joan M for the Original Code. Modified and extended by john.mandia@whitelightsolutions.com.
The ErrorHandler class catches all errors that are not programmatically caught 
and directs them to dynamic error pages which support your theme and translations 
(Please see class and web.config for more information)

1.2.8.1605b - 08/04/2003
- Fixed behaviour of revert button

1.2.8.1605 - 07/04/2003
- New Rainbow.Security.RainbowPrincipal class
- New Rainbow.Security.User class
- New PortalSettings CurrentUser static property:
  Get CurrentUser.Name, CurrentUser.Email, CurrentUser.ID (Forms Autentication)
  Get CurrentUser.Name or CurrentUser.Email (equal to name) (Win Autentication) 
- Added easy link Settings on Module Settings page to go to Module Properties
- Added easy link Properties on Module Properties page to go to Module Settings

1.2.8.1604 - 05/04/2003
- Fixed some procedure left out.
- Renamed indexes according new prefix for staging tables
- Nice buttons on MsDefault style

1.2.8.1603 - 04/04/2003
(Geert Audenaert)
- Added limited support for windows nt domains
- Added Revert functionality
- Solved workflow issues due to db changes

(Manu)
- Some fixes to a better XHTML compliance on code, themes and layouts
- Added ability to edit profile for current user
- Terms and conditions updated. Now tries to get localized terms before getting defaults.
- Fixes on Search procedure (updated tables name)
- Fixed Mailhelper.cs. The SQL refers now to correct tables
- Removed Admin/RegisterFull.aspx - Now all is handled by Admin/Register.aspx that loads correct control

1.2.8.1602 - 03/04/2003 
(Cory Isakson)
- Updated HTML TextBox Assembly and supporting files to version 2.1
- Changed ShowTumbnailsPanel to ShowUpload for HTML Module and Articles module
- Added Help file for HTML TextBox
- Removed HTML TextBox 1.5

1.2.8.1601 - 03/04/2003
- Trying to run web portal without a db will now raise an exception
- Moved Updated Script execution code to db helper class
- Fixed db scripts to avoid errors when a different user than dbo is used. 
  Many thanks to Marc Babin for his help!
- Big update of Tables, Procedures and Indexes/Trigges
  Following new naming convention: 
  - rb_Prefix on all Objects to permit use of shared databases
  
Upgrade from 1317: read instructions on read me!

1.2.8.1530 - 31/03/2003
- Changed all conflicting variables for compatibility with VB version

1.2.8.1524g - 02/04/2003
- Updated Active Directory support (added ADHelper class)
- Fixed bug in HttpUrlBuilder which made workflow not work

1.2.8.1524f - 29/03/2003
- Handled the error domain not found in ADGroupMember.ascx control.
  //TODO Geert: handle the error

1.2.8.1524e - 28/03/2003
- When using integrated windows authentication you no longer need to copy user account's
  Also you can give access to users (only with windows authentication).
- Increased Timeout for commands execution
- Fixed bug on HttpUrl tha prevents module properties to work
- I have renamed Option to Setting Option and moved to UI\datatypes folder.
  Portalsettings.Option --> Rainbow.UI.DataTypes.SettingOption
- All home redirects now go to Default.aspx (no DeskyopDefault.aspx)

1.2.8.1524d - 25/03/2003
- Reorganized files in namespaces for a consistent organization
  Moved designers to Rainbow.UI.Design namespace
  Moved Mobile Modules to Rainbow.MobileModules (were Rainbow.UI.MobileControls)
  Moved Rainbow.Design.PictureLayouts.PictureItem to Rainbow.Design.PictureItem
  (this means you should update custom Picture Layouts)
- Now all dir should represent the current namespaces.
- Splitted all files that contain more than one classes: 1 file - 1 class
- Now there is consistency between Namespaces and Directories
- Removed DesktopBreadCrumbs from Rainbow\Design\DesktopLayouts 
  use Rainbow.UI.WebControls.BreadCrumbs instead
- Fixed plain TextEditor for multiline support.
- Fixed batch files for compilation (please remove all #*.cs files!)
- Fixed scripts by marcb@hotmail.com to avoid errors caused by staging user

1.2.8.1524c - 25/03/2003
- Fixed Layout BabyBlue.
- Changed PortalSettings.PortalLayouts to PortalSettings.PortalLayoutPath

1.2.8.1524b - 24/03/2003
- Fixed: SignInType and SignInLocation and SignInPosition do not show Options...

1.2.8.1524a - 24/03/2003
- Fixed a bug on db creation the will raise a few errors.
- Restored <authentication mode="Windows" /> section on web.config (sfbug # 678638) 

1.2.8.1524 - 24/03/2003 
- Every module can now show who did the last update on it
- Application_Error event is catched and a nice error message can be shown
- Milestones tutorial module now support workflow.
- Update.aspx.cs - Now we can specifiy a different db name other than Rainbow
- SendNewsletter.aspx - Fixed some mispelled asp: tags
- Shortcut / ShortcutAll - Fixed select module combo setting
- Shortuctall module - Fix: shortcuts should not be displayed on GetModulesAllPortals list
- New simple Module: RainbowVersion, 
  see 1.2.8.1524.sql script this is the recommended way for install new modules
- Updated web.config, some clean and some change on default settings (do diff on CVS to see all)

1.2.8.1523a - 24/03/2003
- Fixed Country and states lists in Registration page for international cultures.
- Fixed css for buttons in msAlt style
- Articles: fixed editbutton link
- Announcements: fixed missing Title label

1.2.8.1523 - 23/03/2003
- Updated GetTabsParentProcedure
- New procedure rb_ModulesUpgradeOldToNew
- Removed legacy code:
  - Yahe (use other editors)
  - Old HTML editor (current module will be upgraded to HTML one)
  - Old Search (current module will be upgraded to new one)

1.2.8.1522 - 22/03/2003
- Fixed UpdateTab stored procedure to prevent assigning ParenttabID 
  that would orphan the tab or cause an infinte loop. (restored)
- Updated Tablayout to raise error.
- Added cancel button on TabLayout.
- Added overload in BuildUrl for accept language.

1.2.8.1521 - 21/03/2003
- Fixes the fact that you can't delete a tab 
  even though you've removed all the modules 
  from it. (Makes the tabsettings for that tab 
  cascade delete when the tab is deleted). 
  John Bowen
- Updated mk.bat for compile rainbow without visualstudio
- Fixed some problems with db update and scripts... 
  now it works neat with dbo user....

1.2.8.1520 - 20/03/2003
- Big improvement in db installation: New autoupdate db code
  Simply run the site and Rainbow will update db for you!!
- Fixed the email sending in the workflow process

1.2.8.1519 - 19/03/2003
- Quick access to module properties for administrators
  right from module properties.
- Easily move modules from tab to another. (update db with new procedure)
  The control will be set on the same pane and on the same order
  of the original page.
- Improved globalized controls and design time support
  Now it returns translation if available and not key
- Improved Autolearn, less overhead when disabled.
- Fixed a small bug for sending emails in signin module
  The sender address is now configurable in the web.config.

1.2.8.1518 - 18/03/2003 
- I have removed ThemeWebPath, LayoutsWebPath, MenuClientPath keys from web.config. 
  They are hardcoded on Portalsettings now.
  This will remove all "Theme not found" or "missing layout" errors.

- For menu you should remove custom client paths from all Layouts and 
  ensure you have the menu script on your Rainbow directory:
  Rainbow.Settings.Path.ApplicationRoot + "/aspnet_client/DUEMETRI_UI_WebControls_HWMenu/1_0_0_0"
  This will remove all problems with disappeared menus reported on forums

- Improved error handling if theme or layout not found 
- Improved paths consistency 
- Fixed search on HTMLmodule 
- Restored HTML tags on Articles module


1.2.8.1516 - 16/03/2003
Manu: Some code fixing.
News DataType HtmlEditorDataType for easily add Html editor
choice on your pages. See implementation in Html module and articles.

DB changes
Many people have asked to remove staging user in workflow and
use a prefix on tables. This patch do de work.
In future all workflow will be updated using prefix tables.
You find update on DBinstall folder.

John Bowen - March 13, 2003
SCRIPT TO CHANGE ALL 'STAGING' OWNED OBJECTS OVER TO 'DBO' OWNERSHIP.  
  ** CREATES NEW TABLES ([st_tableName])
  ** COPIES DATA FROM OLD STAGING TABLES TO NEW
  ** MODIFIES (28) AFFECTED STORED PROCEDURES TO USE NEW TABLES
  ** DROPS OLD STAGING TABLES
  ** DROPS STAGING USER FROM DB

1.2.8.1515 - 15/03/2003
- Added FreeTextBox - Copyright (c) 2003, John Dyer
  As optional editor on HTML module.

1.2.8.1513 - 13/03/2003
- Updated menu script for Opera 7 browsers
- Keep on cleaning modules code and applying new rules
- Fix on menu top by mochuelo
- Changed Articles list
- New globalized control HyperLinkColumn

1.2.8.1512a - 12/03/2003
- Fixed bug on PortalSearch Reflection
- Fixed bug on Portalsearch SearchSqlSelect
- Improved searchable modules: Links, Milestones, Event, HtmlModule
- Restored Cancel event on Register and Register full modules
- Added RegularExpressionValidator globalized control

1.2.8.1512 - 12/03/2003
- DB UPDATE REQUIRED
- New Property on Links module by Cory Isakson
- Revised Section table by Manu
- Added error management on GetSection
- Fixed null translation on missign value on dll

1.2.8.1511 - 11/03/2003
- Fixed bug "If UsePortal setting is false, all links are broken".
- Added ACtiveUp HTML TextBox V1.5 Rel. 2 for Rainbow License
- Fixed bug on Shortut module loading
- Fixed bug on Search init properties

1.2.8.1510 - 10/03/2003
by Jes
- SignIn and Register are now "full" modules: placeable, conform to theme, 
  switchable title,etc. Configuration options added to portal custom settings to 
  control Default/Alt Theme, ShowTitle, etc, TODO: proper localization of
  setting options
- Signin module is now configurable to appear in left, center or right column,
  on Home page only or on all pages. 
- New module added (SignInLink) which shows SignIn and Register links - portal
  can be configured to use SignInLink instead of SignIn module.
- Automatic insertion of SignIn can be disabled altogether - SignIn module can still
  be placed manually on any tab
- Logon.aspx, Register.aspx and RegisterFull.aspx now all use the relevant modules
- new property ShowTabs added to PortalSettings - value set by adding 
  ShowTabs="true/false" to Banner tag in aspx page - TODO: make DeskTopNavigation 
  obey ShowTabs to prevent tabs displaying on admin pages, etc.

1.2.8.1509 - 09/03/2003
- A lot of fixes and code cleaning
- Milestones module added on the code as a Tutorial
see: http://www.rainbowportal.net/Rainbow/_Rainbow/Documents/Rainbow%20Whitepaper.zip

1.2.8.1508 - 07/03/2003
Manu
- A lot of fixes and code cleaning

1.2.8.1507 - 07/03/2003
No db updates :)
by Jes
- Smoothed out page event inheritance hierarchy 
- placed security checks and cache flushing
- title display is now switchable
- Added a file to security folder "signinenum.cs", part of next changes 
  about configuring sign in options per portal
  
by Manu
- Page.cs, added delegates and events.

by Ender
- I've fixed smtg in Tab and TabLayout (admin) modules that 
  has been annoying me for sometime. 
  You know when you hit the up or down arrow in these pages, 
  module or tabs' order is changed. But the selection gets lost. 
  In other words if you want to move a tab to TWO upper levels, you need to 
   1. Select the tab from the list
   2. Hit the up button
   3. Select the tab AGAIN
   4. Hit the up button
  It gets really annoying if you need to move a tab all the way up/down in the list.

1.2.8.1505 - 05/03/2003
- Improved and fixed core localization code (localize class).
  Now it is really clean.
  In the next few days we will replace all legacy localization 
  code on modules and aspx pages. 
  
  The new mode use:
  - SQL or MSDE instead of Access
  - Defines a culture table
  - Updates Countries and States list
  - Include all available translations
  - Has Autolearning feature to track key usage and insert 
    provided translations on db (no autotranslation like google, it
    inserts the text that the module creator defines)
  - Include a consistent way to see how the keys are used (Sections table)
  - New webconfig key:
  
  	<!-- 
	The autolearn features fills up the database
	with missing localized keys and updates usage.
	Suggestion: turn off on production sites.
	Very usefull for module creators and translators.
		-->
	<add key="AutoLearn" value="true" />

- Great changes on db, you cannot go back!
  
  Look ad DBinstall folder.
  The files are zipped to prevent CVS changes!
  
  - Install 1.1.x - This is for new database only
  - Upgrade 1.1.x to 1.2.8.1505 - Upgrade to this version.
  
  IMPORTANT: The upgrade cannot be repeated safely.
  BACKUP YOUR DB, take notice of any ERROR (ignore warnings)
  and post on forums any problem.
  
  From now on all patches will be intended for upgrading one
  version to another.

- The patch drops [rblang_Language] table. Save any custom data
  BEFORE applying the patch.

Other misc bugfixing:
- Fixed Page.cs support on Visual Studio at Design time
- Globalasax.cs updates by tiptoweb and jes
- Url quick singin improvement for using aliases too:
  Call logon.aspx with you user and password:
  http://localhost/rainbow/Admin/Logon.aspx?usr=admin&pwd=admin
  (This works if you use DNS for switching portals)
  If you want to use alias:
  http://localhost/rainbow/Admin/Logon.aspx?usr=admin&pwd=admin&alias=demo
- Fixed shortuct module for modules that define Title on other init 
  procedure like HtmlModule

1.1.8.1502a - 02/03/2003
Must reapply patch guys!! Run applypatchonly.bat in dbinstall dir!

- Fixed a bug on dbpatch.
- Fixed and improved serach code (almost finished)

1.1.8.1502 - 02/03/2003
- Completely rewritten localization support wit autolearning feature!!!
- Currently implemented in: 
  Signin module
  Blacklist Module
  Access denied pages
- New cache implementation by Jes
- Fixed deadlock bug in globalasx.cs by Thierry (tiptopweb)

1.1.8.1501 - 01/03/2003
- Updated Breadcrumbs code. Now it is a more powerful Table Webcontrol
  with customizable separator and design time support
- Fixed bug in latest search dbpatch
- Fixed shortucts modules and Buildurl issues. Now property page runs fine.
  Now they are more consistent (Shortcut all inherits from Shortcut)

1.1.8.1429 - 28/02/2003
Must reapply patch guys!! Run applypatchonly.bat in dbinstall dir!
- New workflow support with approve and reject. Email confimation. by Geert
- Fixed Windows Authentication User Problem - Cory
- Fixed Persist login when switching portal Alias problem - Cory
- New pluggable search module (unfinished, we need to add more modules) - by Manu and Jakob

1.1.8.1428 - 28/02/2003
Must reapply patch guys!! Run applypatchonly.bat in dbinstall dir!
- Fixed subtabs issue after latest mods - Manu
- Finished Articles module (TODO: Translations, Workflow support and search)
- Some bugfixes in and out

1.1.8.1426 - 26/02/2003
- Fix in add a module definition fails...line 145 in ModuleDefinitions.aspx.cs.
- Added old overload in Page.cs for backward compatibility
- Fixed control creation in Html edit

1.1.8.1425 - 25/02/2003
Must reapply patch guys!! Run applypatchonly.bat in dbinstall dir!

Manu changes:
URL Management
- Better URL management and some bug fixed in urlbuilder.
- Fixed some strange issues with URL builder. Now should work fine
  and in a more consistent way.
- Moved url handling code from httphandler to httpurlmodule so
  that all code for managing urls is in a same place.
- Fixed complex url handling (dir + page), now passes all attributes correctly
- Fixed Menu navigation for third level menu and mode (run dbpatch)
- Fixed nasty bug on Title and urlbuilder, now porperty page for the editor works nicely

Localization
- Fixed language attribute in querystring. Now it is passed correctly 
  in all pages that use urlbuilder.
- Added new localizable controls the automatically lookup translation
  No need for separate translation routines: just use the new label 
  or literal control and set the TextKey property

Modules
- New articles module (still unfinished)

Pages
- Changed the way title checks if show buttons. Now it is tested the url only.
- Predefined text for button is provided so you have to change only if different.
  Property URL is built in so is always shown. 
  If you want to hide in some module you should set the URL as empty.
- Page.cs completely rewritten for a better performance. Now the elements
  are retrieved only if needed. Many changes in derivate classes to conform
  to new page implementation. Can be some little bug. Please let me know if something is wrong.
  The OnUpdate / OnEdit / OnDelete method was modified to pass EventArgs

Html Edit
- Rewritten HTML edit module, now you can select your favourite editor by a menu!
- Rewritten HTML edit module to use new ActiveUP control (binary licensed to rainbow: thanks Cory!!)
- Rewritten HTML edit module to use new Yahe control (source included wit permission).

Cory changes:
- New Active up HTML editor. Professional editor licensed to Rainbow.

Tabsettings and page
john.mandia@whitelightsolutions.com changes:
  - New table TabSettings and new classes for add/edit custom tab settings
  - New head implementation in page.cs supporting css, metadata 
    and other search engines facilities. All settings can be
    modified per portal base (defaults for all the portal) and per
    tab basis if needed.
    
There are two settings in tab custom settings you might not understand
TabKeyPhrase and TabUrlKeyword
TabUrlKeyword is to give people the option of having a keyword added 
to their url helps people distinguish sections easier and makes 
search engines index better (only slightly though) so if one tab 
was about us you could enter about-us then when someone 
goes to the url it is more recognisable
TabKeyPhrase is a bit trickier, the reason for this is again 
search engine optimisation and this one is for theme builders 
the TabKeyPhrase is to go at the top of the page just after body 
or close after before any script or code etc. 
The reason being that search engines give priority to where text 
is placed if you have your keyphrase at the top it will read it 
first and think it is the main thing the page is about 
www.pharmaceutical-industry.info on my current site it is used on 
every page before the tables etc and it looks like part of the site.

1.1.8.1417 - 17/02/2003
- Fixed a bug in the menu display after Tabindex removing
- Added new GetRootTab procedure on portalsettings
- New workflow icons
- Fixed bug in workflow code (Desktoptitle.cs)
- Breadcrumbs classes added in breadcrumbs layouts.
- Fixed Lyrys samples smtp call
- Fixed workflow dbpatch.
- Fixed problem ordering tabs (reapply dbpatch)

1.1.8.1416 - 16/02/2003
- Fixed a bug on HttpUrlBuilder.cs
- I have missed committing some files last version. Are on CVS now.
- New Minimalist thumbnails layout

1.1.8.1415 - 15/02/2003
- New helper class HttpUrlBuilder for dynamically build URLs
- New global.asax.cs Application_BeginRequest management
- Modified HttpUrlModule to reflect new changes
- Portal wide substitution of all urls in managed urls
- New proxy class on helpers

1.1.8.1414 - 14/02/2003
- Fixed Paging in pictures module
- Send Password localize completed

1.1.8.1412 - 12/02/2003
- New feature in signin module: "Send Password". Requires new language.dll.

1.1.8.1411 - 11/02/2003
- New workflow implementation by Geert.Audenaert@Syntegra.Com (BETA)
- Tab/subtab fixing and Tabindex removed Gert.Marginet@syntegra.com (BETA)

1.1.8.1402a - 03/02/2003
- Fixed Set portalalias equal to domain name in globalasax.cs - Strip www code.
- Fixed redirect in Desktopdefault
- Fixed mispelled "Tahoma" font in the CSS files for MenuMS and Default (Thanks to Gene Rodrigues).

1.1.8.1330 - 30/01/2003
- Breadcrumbs update Ver. 1.1 - 31. jan 2003 by jes
  I made some crude changes to the breadcrumbs control. 
  First, there was a problem that it didn't pick up the TabIndex, so I changed that. 
  Plus, I didn't like that it made the current page a clickable link, so I changed that. 
  Then I wanted it in a table so I could control it's formatting a bit more, 
  so I changed it from a simple placeholder to a table.
- Signin is now a pluggable module (as any other).
  It disappears magically if the user has logged in.

1.1.8.1329 - 30/01/2003
- Rewritten populateRoles and added new unauthenticated user role.
  Remember to add admins too or you cannot edit module.
  This add a new feature (an automatic role that can used eg for modules 
  informing non authenticated user how-to login) 
  This also fixes a bug in IBS:
  Partial roles names are treated as equal: if you have a photo role 
  and a myphoto role, the myphoto takes the permission of photo. 

1.1.8.1328 - 29/01/2003
- Fixed PicturesDB on CVS
- Customized Portal title prefix in web.config
- Add guid to signin module
- Module GUID Throw an exception if not override in derived modules
  (Cannot mark class and property as abstract for VS incompatiblity) 
- New PowerGrid control

1.1.8.1323 - 23/01/2003
- Incorporated PictureAlbum beta 2 on core (by Ender)
  (please remove existing Picture album before upgrade:
   Pictures Table and general modules entry for picture module)

1.1.8.1322a - 22/01/2003
- Defult cache is now 0 for both PortalSettingCaching and ModuleOverrideCache
  Seems to make some problem if you do not know it is on
  ADVICE: Use cache on production sites, remove it when developing

1.1.8.1322 - 22/01/2003
- Fixed a bug on ModuleOverrideCache
- Fixed bug Editor.ascx for working with .NET 1.1
- Fixed viewstate in shortcut and set pageload code to execute first time only.
- Restored missing documents folder in CVS
- Changed help on dbinstall\setup.bat
- Fixed cascade delete (reapply dbpatch)

1.1.8.1321 - 21/01/2003
- Added caching features to boost performance
- New wb.config keys: 
  - PortalSettingCaching: Caches portalsetting
  - ModuleOverrideCache: Override default cache for modules (no admin) 

1.1.8.1317 - 17/01/2003
- Cleaned up security classes. Moved all code to PortalSecurity class.
  Added new method for redirection in case of unauthorized access.
- Fixed a bug on Logon.aspx, now redirects on home is user is logged on.
  The logon box is displayed only if user is not authenticated.
  You can logon adding userid and password on querystring if successful 
  authenticates and go home, if not you get access denied page.
- Added new property ShowLogon on HeaderMenu control
- Added layout UpperLogon to test new feature
  (Thanks to jbowen for the idea and original source code 09-01-2003) 
- Updated menu control. Now you can specify your own images.
  Update client path (you have to change layouts!)
- Added new module Newsletter/Blacklist to the core! - See newsletter-readme.txt (By Manu/Jackob)
- Added OneFile module to the core! - See onefile_readme.txt (By Jackob)
- Added IFrame module to the core! - See iframe-readme.txt (By Jackob)
- Fixed mk.bat to compile and link embedded resources
 (now you can compile and run even if you do not have visual studio :) ) 

1.1.8.1315 - 15/01/2003
- Modified logon.aspx - Moved authentication code on security folder

1.1.8.1314 - 14/01/2003
- Optionally remove www. from beginning of domain name (by DarkLight 10/01/2003) 

1.1.0.1309 - 09/01/2003
- Fixed mk.bat dll name

1.1.0.1308 - 08/01/2003
- Fixed an issue with default values in pane style 
  (only DUEMETRI.UI.WebControls.Panes.dll)
- Modified DesktopTitle code so you can use Title property from your Modules 
  to override the Title specified in the database. 

1.1.8.1307
- Fixed Edit Portal Default Layout Blank and bug #659609 Layout/Theme flaw by Abain

1.1.7.1226a Cory Isakson
- Fixed UpdateTab stored procedure (please apply DBpatch)
  to prevent assigning ParenttabID 
  that would orphan the tab or cause an infinte loop.

1.1.7.1226
- New BreadCrumbs control by Cory Isakson (please apply DBpatch)
- New BreadCrumbs Layout

1.1.7.1223
- Minor fixes on code
- Improved SubTabsVert layout
- Bugfix #656794 'Menu rendering adds all tabs' on MenuNavigation.cs by abain
- Makefile for recompile without VisualStudio (see mk.bat)

1.1.7.1219
- Added dropdown combo for layouts by Cory Isakson
- Fixed a bug that caused an endless loop on portalsettings.
- Removed CVS dirs from Themes and Layouts lists
- New babyblue Layout

1.1.7.1218
- Fixed the Text for the Delete Confirmation, now displays correctly. 

1.1.7.1217a
- Fixed some errors on dbpatch that prevents installing new modules

1.1.7.1217
- Removed source control error on open
- Tabs fix. This fix allows for unlimited depth of the child tabs, 
  shows orphans in the tabs list, and allows re-ordering of the tabs without problems. 
  I also changed the tabs select list in tabs.aspx to be 400px wide and 400px high.
  (Cory Isakson)

1.1.7.1216
- Fixed Images path on HTML Module V2
- Fixed dbpatch for including HTML Module V2
- New search module by Jackob Hansen (see readme on desktopmodules dir)
- Fixed bug on DesktopPanes.ascx in menu ms layout
- Fixed bug on Menu control (ClientPath on design mode get error)
- Fixed more than 50 warnings and typos on XML help
- Packaged all code as release on SourceForge
- Webcontrols sourcecode and help is available as separate download

1.1.7.1209
- Fixed announcements module: start date now can be set via propertypage
- Localization of announcements module and minor fixes complete
- Localization of contacts module and minor fixes complete
- Localization of events module and minor fixes complete

1.1.7.1206
- Fixed bug on discussion.ascx: show images
- Fixed bug on discussion.ascx: new window on add
- Fixed bug on discussion.ascx: changed new item permission to add
- Fixed bug on contacts.ascx: changed new item permission to add
- Fixed bug on contactsedit.aspx: now update button saves correctly
- Fixed bug registerfull.aspx: Invalid key ADRESS corrected
- Fixed bug usermanage.aspx: New User page Send Newsletter text was repeated
- Fixed bug on destopnavigation.cs: Now ignores invalid subtabs passed via querystring

1.1.7.1203
- Now the multiportal option via querystring run smoothly
  Type rainbow/desktopdefault.aspx?alias=<yourportalalias> to switch portal
  If you are logged on automatically you will be logged off from the current portal
  and need to reconnect. It is recommended anyway to close browser if you want to 
  move from one portal to another. Some problems may be with IE cache that thinks to be
  on the formerly portal. Anyway one refresh or two could help.
- Fixed missing procedure in discussion module
- Fixed loading XML docs in XML module
- Added Documents dir to CVS in base _rainbow portal dir
- Improved shortcuts (single and all) for a better readability.
  Now everything should work. There are some issues left with modules that save custom data
  in their own dir (xml, documents). Now the only way to share modules between different 
  portals is to use the same dir for all portals.
- Translated some hardcoded strings (need db patch update)

1.1.7.1202
- Added module handler for eliminate querystring (see web.config for help)
- Add MenuClientPath to the webconfig
- Changed portal alias behavior in global.cs
- Menu and sub menu updated

1.1.7.1125
- Subtabs updated
- Add HTML Editor by Jackob Hansen
- Add new languages support (NL, DA, FR, IS)
- Fixed Mobile support (remember to enable specific modules from admin console)
- Removed "Always show edit..", due to changes on rainbow security has no sense. Use Authenticated users role if you want to show edit buttons or All users...

1.1.7.1119 - 19/11/2002
- Correct a bug in db script
- Updated default layouts
- Updated Resources/Language.mdb
- Please note that from 20/11/2002 language database is available as a separate download
Manu 

1.1.7.1118 - 18/11/2002
- Correct SQL script and simplified DB creation
- Updated install instructions 
- Add default data in modules data table 
- Correct a bug in documents module that prevented changing data without uploading new file
- Removed unused module 'Admin/UserManager.ascx' from DB
- Sorted up defaults layouts, renamed MenuMS to MenuMs
- Updated DUEMETRI.UI.WebControls.Panes.dll
Manu 

1.1.7.1115 - 15/11/2002
- Add predefined Authenticated Users than automatically groups all registered users that had logged in
- Cleaned up HTML module
Manu 
